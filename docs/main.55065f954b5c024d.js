(self.webpackChunkelden_ring_app=self.webpackChunkelden_ring_app||[]).push([[179],{709:(al,ul,Ui)=>{"use strict";function me(t){return"function"==typeof t}function $s(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ui=$s(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Hs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class He{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(me(r))try{r()}catch(s){e=s instanceof ui?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{$a(s)}catch(o){e=null!=e?e:[],o instanceof ui?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ui(e)}}add(e){var n;if(e&&e!==this)if(this.closed)$a(e);else{if(e instanceof He){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Hs(n,e)}remove(e){const{_teardowns:n}=this;n&&Hs(n,e),e instanceof He&&e._removeParent(this)}}He.EMPTY=(()=>{const t=new He;return t.closed=!0,t})();const Gs=He.EMPTY;function Vi(t){return t instanceof He||t&&"closed"in t&&me(t.remove)&&me(t.add)&&me(t.unsubscribe)}function $a(t){me(t)?t():t.unsubscribe()}const Ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},lr={setTimeout(...t){const{delegate:e}=lr;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=lr;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function gn(t){lr.setTimeout(()=>{const{onUnhandledError:e}=Ht;if(!e)throw t;e(t)})}function ci(){}const qs=Ha("C",void 0,void 0);function Ha(t,e,n){return{kind:t,value:e,error:n}}let R=null;function J(t){if(Ht.useDeprecatedSynchronousErrorHandling){const e=!R;if(e&&(R={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=R;if(R=null,n)throw r}}else t()}class fe extends He{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Vi(e)&&e.add(this)):this.destination=oL}static create(e,n,r){return new cl(e,n,r)}next(e){this.isStopped?Qf(function Kf(t){return Ha("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Qf(function zs(t){return Ha("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qf(qs,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ie=Function.prototype.bind;function Gt(t,e){return ie.call(t,e)}class ji{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ll(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ll(r)}else ll(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ll(n)}}}class cl extends fe{constructor(e,n,r){let i;if(super(),me(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let s;this&&Ht.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gt(e.next,s),error:e.error&&Gt(e.error,s),complete:e.complete&&Gt(e.complete,s)}):i=e}this.destination=new ji(i)}}function ll(t){Ht.useDeprecatedSynchronousErrorHandling?function le(t){Ht.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=t)}(t):gn(t)}function Qf(t,e){const{onStoppedNotification:n}=Ht;n&&lr.setTimeout(()=>n(t,e))}const oL={closed:!0,next:ci,error:function sL(t){throw t},complete:ci},Yf="function"==typeof Symbol&&Symbol.observable||"@@observable";function Bi(t){return t}let be=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function uL(t){return t&&t instanceof fe||function aL(t){return t&&me(t.next)&&me(t.error)&&me(t.complete)}(t)&&Vi(t)}(n)?n:new cl(n,r,i);return J(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=BD(r))((i,s)=>{const o=new cl({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Yf](){return this}pipe(...n){return function jD(t){return 0===t.length?Bi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=BD(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function BD(t){var e;return null!==(e=null!=t?t:Ht.Promise)&&void 0!==e?e:Promise}const cL=$s(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Mr=(()=>{class t extends be{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new $D(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new cL}next(n){J(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Gs:(s.push(n),new He(()=>Hs(s,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new be;return n.source=this,n}}return t.create=(e,n)=>new $D(e,n),t})();class $D extends Mr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Gs}}function HD(t){return me(null==t?void 0:t.lift)}function vt(t){return e=>{if(HD(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function wt(t,e,n,r,i){return new lL(t,e,n,r,i)}class lL extends fe{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ee(t,e){return vt((n,r)=>{let i=0;n.subscribe(wt(r,s=>{r.next(t.call(e,s,i++))}))})}function qD(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function $i(t){return this instanceof $i?(this.v=t,this):new $i(t)}function fL(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof $i?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function pL(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function WD(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const KD=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function QD(t){return me(null==t?void 0:t.then)}function YD(t){return me(t[Yf])}function JD(t){return Symbol.asyncIterator&&me(null==t?void 0:t[Symbol.asyncIterator])}function XD(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ZD=function mL(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function eb(t){return me(null==t?void 0:t[ZD])}function tb(t){return fL(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield $i(n.read());if(i)return yield $i(void 0);yield yield $i(r)}}finally{n.releaseLock()}})}function nb(t){return me(null==t?void 0:t.getReader)}function Rr(t){if(t instanceof be)return t;if(null!=t){if(YD(t))return function yL(t){return new be(e=>{const n=t[Yf]();if(me(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(KD(t))return function _L(t){return new be(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(QD(t))return function vL(t){return new be(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,gn)})}(t);if(JD(t))return rb(t);if(eb(t))return function wL(t){return new be(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(nb(t))return function IL(t){return rb(tb(t))}(t)}throw XD(t)}function rb(t){return new be(e=>{(function EL(t,e){var n,r,i,s;return function dL(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=pL(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Nr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ut(t,e,n=1/0){return me(e)?ut((r,i)=>Ee((s,o)=>e(r,s,i,o))(Rr(t(r,i))),n):("number"==typeof e&&(n=e),vt((r,i)=>function TL(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;Rr(n(g,l++)).subscribe(wt(e,I=>{null==i||i(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?Nr(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(wt(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}function Ga(t=1/0){return ut(Bi,t)}const Pr=new be(t=>t.complete());function Xf(t){return t[t.length-1]}function qa(t){return function bL(t){return t&&me(t.schedule)}(Xf(t))?t.pop():void 0}function dl(t,e=0){return vt((n,r)=>{n.subscribe(wt(r,i=>Nr(r,t,()=>r.next(i),e),()=>Nr(r,t,()=>r.complete(),e),i=>Nr(r,t,()=>r.error(i),e)))})}function hl(t,e=0){return vt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ib(t,e){if(!t)throw new Error("Iterable cannot be null");return new be(n=>{Nr(n,e,()=>{const r=t[Symbol.asyncIterator]();Nr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function It(t,e){return e?function NL(t,e){if(null!=t){if(YD(t))return function AL(t,e){return Rr(t).pipe(hl(e),dl(e))}(t,e);if(KD(t))return function kL(t,e){return new be(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(QD(t))return function xL(t,e){return Rr(t).pipe(hl(e),dl(e))}(t,e);if(JD(t))return ib(t,e);if(eb(t))return function ML(t,e){return new be(n=>{let r;return Nr(n,e,()=>{r=t[ZD](),Nr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>me(null==r?void 0:r.return)&&r.return()})}(t,e);if(nb(t))return function RL(t,e){return ib(tb(t),e)}(t,e)}throw XD(t)}(t,e):Rr(t)}function fl(t){return t<=0?()=>Pr:vt((e,n)=>{let r=0;e.subscribe(wt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Zf(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(fl(1)).subscribe(()=>t())}function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function tp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const FL=_e({__forward_ref__:_e});function np(t){return t.__forward_ref__=np,t.toString=function(){return ge(this())},t}function W(t){return function sb(t){return"function"==typeof t&&t.hasOwnProperty(FL)&&t.__forward_ref__===np}(t)?t():t}class he extends Error{constructor(e,n){super(function rp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function qt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function H(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function pl(t,e){const n=e?` in ${e}`:"";throw new he(-201,`No provider for ${qt(t)} found${n}`)}function yn(t,e){null==t&&function Te(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function se(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dr(t){return{providers:t.providers||[],imports:t.imports||[]}}function ip(t){return ob(t,gl)||ob(t,ub)}function ob(t,e){return t.hasOwnProperty(e)?t[e]:null}function ab(t){return t&&(t.hasOwnProperty(sp)||t.hasOwnProperty(HL))?t[sp]:null}const gl=_e({\u0275prov:_e}),sp=_e({\u0275inj:_e}),ub=_e({ngInjectableDef:_e}),HL=_e({ngInjectorDef:_e});var q=(()=>((q=q||{})[q.Default=0]="Default",q[q.Host=1]="Host",q[q.Self=2]="Self",q[q.SkipSelf=4]="SkipSelf",q[q.Optional=8]="Optional",q))();let op;function li(t){const e=op;return op=t,e}function cb(t,e,n){const r=ip(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&q.Optional?null:void 0!==e?e:void pl(ge(t),"Injector")}function di(t){return{toString:t}.toString()}var Wn=(()=>((Wn=Wn||{})[Wn.OnPush=0]="OnPush",Wn[Wn.Default=1]="Default",Wn))(),hr=(()=>{return(t=hr||(hr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",hr;var t})();const qL="undefined"!=typeof globalThis&&globalThis,zL="undefined"!=typeof window&&window,WL="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ye=qL||"undefined"!=typeof global&&global||zL||WL,Ws={},ve=[],ml=_e({\u0275cmp:_e}),ap=_e({\u0275dir:_e}),up=_e({\u0275pipe:_e}),lb=_e({\u0275mod:_e}),Fr=_e({\u0275fac:_e}),za=_e({__NG_ELEMENT_ID__:_e});let KL=0;function Wa(t){return di(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Wn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||hr.Emulated,id:"c",styles:t.styles||ve,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=KL++,r.inputs=pb(t.inputs,n),r.outputs=pb(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(db):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(hb):null,r})}function db(t){return Ot(t)||function hi(t){return t[ap]||null}(t)}function hb(t){return function Hi(t){return t[up]||null}(t)}const fb={};function Lr(t){return di(()=>{const e={type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(fb[t.id]=t.type),e})}function pb(t,e){if(null==t)return Ws;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Pt=Wa;function Ot(t){return t[ml]||null}function Rn(t,e){const n=t[lb]||null;if(!n&&!0===e)throw new Error(`Type ${ge(t)} does not have '\u0275mod' property.`);return n}const K=11;function fr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Qn(t){return Array.isArray(t)&&!0===t[1]}function dp(t){return 0!=(8&t.flags)}function wl(t){return 2==(2&t.flags)}function Il(t){return 1==(1&t.flags)}function Yn(t){return null!==t.template}function eU(t){return 0!=(512&t[2])}function Wi(t,e){return t.hasOwnProperty(Fr)?t[Fr]:null}class rU{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function mb(t){return t.type.prototype.ngOnChanges&&(t.setInput=sU),iU}function iU(){const t=_b(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Ws)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function sU(t,e,n,r){const i=_b(t)||function oU(t,e){return t[yb]=e}(t,{previous:Ws,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new rU(u&&u.currentValue,e,o===Ws),t[r]=e}const yb="__ngSimpleChanges__";function _b(t){return t[yb]||null}let mp;function Re(t){return!!t.listen}const vb={createRenderer:(t,e)=>function yp(){return void 0!==mp?mp:"undefined"!=typeof document?document:void 0}()};function Ge(t){for(;Array.isArray(t);)t=t[0];return t}function On(t,e){return Ge(e[t.index])}function vn(t,e){const n=e[t];return fr(n)?n:n[0]}function vp(t){return 128==(128&t[2])}function fi(t,e){return null==e?null:t[e]}function Ib(t){t[18]=0}function wp(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const B={lFrame:xb(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Eb(){return B.bindingsEnabled}function E(){return B.lFrame.lView}function oe(){return B.lFrame.tView}function Ze(){let t=Tb();for(;null!==t&&64===t.type;)t=t.parent;return t}function Tb(){return B.lFrame.currentTNode}function pr(t,e){const n=B.lFrame;n.currentTNode=t,n.isParent=e}function Ip(){return B.lFrame.isParent}function Tl(){return B.isInCheckNoChangesMode}function Dl(t){B.isInCheckNoChangesMode=t}function DU(t,e){const n=B.lFrame;n.bindingIndex=n.bindingRootIndex=t,Tp(e)}function Tp(t){B.lFrame.currentDirectiveIndex=t}function bp(t){B.lFrame.currentQueryIndex=t}function CU(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Sb(t,e,n){if(n&q.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&q.Host||(i=CU(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=B.lFrame=Ab();return r.currentTNode=e,r.lView=t,!0}function bl(t){const e=Ab(),n=t[1];B.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ab(){const t=B.lFrame,e=null===t?null:t.child;return null===e?xb(t):e}function xb(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function kb(){const t=B.lFrame;return B.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Mb=kb;function Cl(){const t=kb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pi(t){B.lFrame.selectedIndex=t}function Sl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Al(t,e,n){Rb(t,e,3,n)}function xl(t,e,n,r){(3&t[2])===n&&Rb(t,e,n,r)}function Cp(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Rb(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(OU(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function OU(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Xa{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function kl(t,e,n){const r=Re(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Ap(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Nb(t){return 3===t||4===t||6===t}function Ap(t){return 64===t.charCodeAt(0)}function Ml(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Pb(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Pb(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ob(t){return-1!==t}function eo(t){return 32767&t}function to(t,e){let n=function jU(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let xp=!0;function Rl(t){const e=xp;return xp=t,e}let BU=0;function eu(t,e){const n=Mp(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,kp(r.data,t),kp(e,null),kp(r.blueprint,null));const i=Nl(t,e),s=t.injectorIndex;if(Ob(i)){const o=eo(i),a=to(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function kp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Mp(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Nl(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Pl(t,e,n){!function $U(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(za)&&(r=n[za]),null==r&&(r=n[za]=BU++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ub(t,e,n){if(n&q.Optional)return t;pl(e,"NodeInjector")}function Vb(t,e,n,r){if(n&q.Optional&&void 0===r&&(r=null),0==(n&(q.Self|q.Host))){const i=t[9],s=li(void 0);try{return i?i.get(e,r,n&q.Optional):cb(e,r,n&q.Optional)}finally{li(s)}}return Ub(r,e,n)}function jb(t,e,n,r=q.Default,i){if(null!==t){const s=function zU(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(za)?t[za]:void 0;return"number"==typeof e?e>=0?255&e:GU:e}(n);if("function"==typeof s){if(!Sb(e,t,r))return r&q.Host?Ub(i,n,r):Vb(e,n,r,i);try{const o=s(r);if(null!=o||r&q.Optional)return o;pl(n)}finally{Mb()}}else if("number"==typeof s){let o=null,a=Mp(t,e),u=-1,c=r&q.Host?e[16][6]:null;for((-1===a||r&q.SkipSelf)&&(u=-1===a?Nl(t,e):e[a+8],-1!==u&&Hb(r,!1)?(o=e[1],a=eo(u),e=to(u,e)):a=-1);-1!==a;){const l=e[1];if($b(s,a,l.data)){const d=qU(a,e,n,o,r,c);if(d!==Bb)return d}u=e[a+8],-1!==u&&Hb(r,e[1].data[a+8]===c)&&$b(s,a,e)?(o=l,a=eo(u),e=to(u,e)):a=-1}}}return Vb(e,n,r,i)}const Bb={};function GU(){return new no(Ze(),E())}function qU(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function Ol(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Yn(f)&&f.type===n)return u}return null}(a,o,n,null==r?wl(a)&&xp:r!=o&&0!=(3&a.type),i&q.Host&&s===a);return null!==l?tu(e,o,l,a):Bb}function tu(t,e,n,r){let i=t[n];const s=e.data;if(function FU(t){return t instanceof Xa}(i)){const o=i;o.resolving&&function LL(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new he(-200,`Circular dependency in DI detected for ${t}${n}`)}(qt(s[n]));const a=Rl(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?li(o.injectImpl):null;Sb(t,r,q.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function PU(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=mb(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&li(u),Rl(a),o.resolving=!1,Mb()}}return i}function $b(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Hb(t,e){return!(t&q.Self||t&q.Host&&e)}class no{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return jb(this._tNode,this._lView,e,r,n)}}const io="__parameters__";function oo(t,e,n){return di(()=>{const r=function Np(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(io)?u[io]:Object.defineProperty(u,io,{value:[]})[io];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ee{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=se({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const QU=new ee("AnalyzeForEntryComponents");function gr(t,e){t.forEach(n=>Array.isArray(n)?gr(n,e):e(n))}function qb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Fl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const ou={},Lp="__NG_DI_FLAG__",Ul="ngTempTokenPath",sV=/\n/gm,Yb="__source",aV=_e({provide:String,useValue:_e});let au;function Jb(t){const e=au;return au=t,e}function uV(t,e=q.Default){if(void 0===au)throw new he(203,"");return null===au?cb(t,void 0,e):au.get(t,e&q.Optional?null:void 0,e)}function L(t,e=q.Default){return(function GL(){return op}()||uV)(W(t),e)}function Up(t){const e=[];for(let n=0;n<t.length;n++){const r=W(t[n]);if(Array.isArray(r)){if(0===r.length)throw new he(900,"");let i,s=q.Default;for(let o=0;o<r.length;o++){const a=r[o],u=cV(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(L(i,s))}else e.push(L(r))}return e}function uu(t,e){return t[Lp]=e,t.prototype[Lp]=e,t}function cV(t){return t[Lp]}const cu=uu(oo("Inject",t=>({token:t})),-1),qe=uu(oo("Optional"),8),uo=uu(oo("SkipSelf"),4),y0="__ngContext__";function Lt(t,e){t[y0]=e}function Kp(t){const e=function pu(t){return t[y0]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Yp(t){return t.ngOriginalError}function t2(t,...e){t.error(...e)}class ho{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function e2(t){return t&&t.ngErrorLogger||t2}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Yp(e);for(;n&&Yp(n);)n=Yp(n);return n||null}}const E0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ye))();function yr(t){return t instanceof Function?t():t}var In=(()=>((In=In||{})[In.Important=1]="Important",In[In.DashCase=2]="DashCase",In))();function Xp(t,e){return undefined(t,e)}function gu(t){const e=t[3];return Qn(e)?e[3]:e}function Zp(t){return S0(t[13])}function eg(t){return S0(t[4])}function S0(t){for(;null!==t&&!Qn(t);)t=t[4];return t}function po(t,e,n,r,i){if(null!=r){let s,o=!1;Qn(r)?s=r:fr(r)&&(o=!0,r=r[0]);const a=Ge(r);0===t&&null!==n?null==i?N0(e,n,a):Qi(e,n,a,i||null,!0):1===t&&null!==n?Qi(e,n,a,i||null,!0):2===t?function j0(t,e,n){const r=Gl(t,e);r&&function D2(t,e,n,r){Re(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function S2(t,e,n,r,i){const s=n[7];s!==Ge(n)&&po(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];mu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function ng(t,e,n){if(Re(t))return t.createElement(e,n);{const r=null!==n?function lU(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function x0(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,wp(i,-1)),n.splice(r,1)}function rg(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&x0(i,r),e>0&&(t[n-1][4]=r[4]);const s=Fl(t,10+e);!function m2(t,e){mu(t,e,e[K],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function k0(t,e){if(!(256&e[2])){const n=e[K];Re(n)&&n.destroyNode&&mu(t,e,n,3,null,null),function v2(t){let e=t[13];if(!e)return ig(t[1],t);for(;e;){let n=null;if(fr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)fr(e)&&ig(e[1],e),e=e[3];null===e&&(e=t),fr(e)&&ig(e[1],e),n=e&&e[4]}e=n}}(e)}}function ig(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function T2(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Xa)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function E2(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Ge(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Re(e[K])&&e[K].destroy();const n=e[17];if(null!==n&&Qn(e[3])){n!==e[3]&&x0(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function M0(t,e,n){return function R0(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===hr.None||i===hr.Emulated)return null}return On(r,n)}(t,e.parent,n)}function Qi(t,e,n,r,i){Re(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function N0(t,e,n){Re(t)?t.appendChild(e,n):e.appendChild(n)}function P0(t,e,n,r,i){null!==r?Qi(t,e,n,r,i):N0(t,e,n)}function Gl(t,e){return Re(t)?t.parentNode(e):e.parentNode}let L0=function F0(t,e,n){return 40&t.type?On(t,n):null};function ql(t,e,n,r){const i=M0(t,r,e),s=e[K],a=function O0(t,e,n){return L0(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)P0(s,i,n[u],a,!1);else P0(s,i,n,a,!1)}function zl(t,e){if(null!==e){const n=e.type;if(3&n)return On(e,t);if(4&n)return og(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return zl(t,r);{const i=t[e.index];return Qn(i)?og(-1,i):Ge(i)}}if(32&n)return Xp(e,t)()||Ge(t[e.index]);{const r=V0(t,e);return null!==r?Array.isArray(r)?r[0]:zl(gu(t[16]),r):zl(t,e.next)}}return null}function V0(t,e){return null!==e?t[16][6].projection[e.projection]:null}function og(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return zl(r,i)}return e[7]}function ag(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Lt(Ge(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ag(t,e,n.child,r,i,s,!1),po(e,t,i,a,s);else if(32&u){const c=Xp(n,r);let l;for(;l=c();)po(e,t,i,l,s);po(e,t,i,a,s)}else 16&u?B0(t,e,r,n,i,s):po(e,t,i,a,s);n=o?n.projectionNext:n.next}}function mu(t,e,n,r,i,s){ag(n,r,t.firstChild,e,i,s,!1)}function B0(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)po(e,t,i,u[c],s);else ag(t,e,u,o[3],i,s,!0)}function $0(t,e,n){Re(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ug(t,e,n){Re(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function H0(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const G0="ng-template";function x2(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==H0(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function q0(t){return 4===t.type&&t.value!==G0}function k2(t,e,n){return e===(4!==t.type||n?t.value:G0)}function M2(t,e,n){let r=4;const i=t.attrs||[],s=function P2(t){for(let e=0;e<t.length;e++)if(Nb(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!k2(t,u,n)||""===u&&1===e.length){if(Jn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!x2(t.attrs,c,n)){if(Jn(r))return!1;o=!0}continue}const d=R2(8&r?"class":u,i,q0(t),n);if(-1===d){if(Jn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==H0(f,c,0)||2&r&&c!==h){if(Jn(r))return!1;o=!0}}}}else{if(!o&&!Jn(r)&&!Jn(u))return!1;if(o&&Jn(u))continue;o=!1,r=u|1&r}}return Jn(r)||o}function Jn(t){return 0==(1&t)}function R2(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function O2(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function z0(t,e,n=!1){for(let r=0;r<e.length;r++)if(M2(t,e[r],n))return!0;return!1}function W0(t,e){return t?":not("+e.trim()+")":e}function L2(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Jn(o)&&(e+=W0(s,i),i=""),r=o,s=s||!Jn(r);n++}return""!==i&&(e+=W0(s,i)),e}const G={};function sC(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];bp(i),o.contentQueries(2,e[s],s)}}}function yu(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ib(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[K]=a||t&&t[K],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function go(t,e,n,r,i){let s=t.data[e];if(null===s)s=function wg(t,e,n,r,i){const s=Tb(),o=Ip(),u=t.data[e]=function nj(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function TU(){return B.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ja(){const t=B.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return pr(s,!0),s}function mo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _u(t,e,n){bl(e);try{const r=t.viewQuery;null!==r&&xg(1,r,n);const i=t.template;null!==i&&oC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&sC(t,e),t.staticViewQueries&&xg(2,t.viewQuery,n);const s=t.components;null!==s&&function Z2(t,e){for(let n=0;n<e.length;n++)wj(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Cl()}}function yo(t,e,n,r){const i=e[2];if(256==(256&i))return;bl(e);const s=Tl();try{Ib(e),function Db(t){return B.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&oC(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&Al(e,c,null)}else{const c=t.preOrderHooks;null!==c&&xl(e,c,0,null),Cp(e,0)}if(function _j(t){for(let e=Zp(t);null!==e;e=eg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&wp(s,1),i[2]|=1024}}}(e),function yj(t){for(let e=Zp(t);null!==e;e=eg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];vp(r)&&yo(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&sC(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&Al(e,c)}else{const c=t.contentHooks;null!==c&&xl(e,c,1),Cp(e,1)}!function J2(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)pi(~i);else{const s=i,o=n[++r],a=n[++r];DU(o,s),a(2,e[s])}}}finally{pi(-1)}}(t,e);const a=t.components;null!==a&&function X2(t,e){for(let n=0;n<e.length;n++)vj(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&xg(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&Al(e,c)}else{const c=t.viewHooks;null!==c&&xl(e,c,2),Cp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,wp(e[3],-1))}finally{Cl()}}function ej(t,e,n,r){const i=e[10],s=!Tl(),o=function wb(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&_u(t,e,r),yo(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function oC(t,e,n,r,i){const s=function Wt(){return B.lFrame.selectedIndex}(),o=2&r;try{pi(-1),o&&e.length>20&&function K0(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Al(e,s,n)}else{const s=t.preOrderHooks;null!==s&&xl(e,s,0,n)}pi(n)}(t,e,20,Tl()),n(r,i)}finally{pi(s)}}function uC(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Yl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Yl(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function tj(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:G);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function hC(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function pC(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function uj(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function gC(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function mC(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function fj(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Yn(e)&&(n[""]=t)}}function yC(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function _C(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Wi(i.type)),o=new Xa(s,Yn(i),null);t.blueprint[r]=o,n[r]=o,pC(t,e,0,r,mo(t,n,i.hostVars,G),i)}function pj(t,e,n){const r=On(e,t),i=uC(n),s=t[10],o=Jl(t,yu(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function gj(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function mj(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function vj(t,e){const n=vn(e,t);if(vp(n)){const r=n[1];80&n[2]?yo(r,n,r.template,n[8]):n[5]>0&&bg(n)}}function bg(t){for(let r=Zp(t);null!==r;r=eg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];yo(o,s,o.template,s[8])}else s[5]>0&&bg(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=vn(n[r],t);vp(i)&&i[5]>0&&bg(i)}}function wj(t,e){const n=vn(e,t),r=n[1];(function Ij(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),_u(r,n,n[8])}function Jl(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Cg(t){for(;t;){t[2]|=64;const e=gu(t);if(eU(t)&&!e)return t;t=e}return null}function Ag(t,e,n){const r=e[10];r.begin&&r.begin();try{yo(t,e,t.template,n)}catch(i){throw DC(e,i),i}finally{r.end&&r.end()}}function wC(t){!function Sg(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Kp(n),i=r[1];ej(i,r,i.template,n)}}(t[8])}function xg(t,e,n){bp(0),e(t,n)}const bj=(()=>Promise.resolve(null))();function IC(t){return t[7]||(t[7]=[])}function EC(t){return t.cleanup||(t.cleanup=[])}function DC(t,e){const n=t[9],r=n?n.get(ho,null):null;r&&r.handleError(e)}function Xl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=tp(i,a):2==s&&(r=tp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const kg=new ee("INJECTOR",-1);class CC{get(e,n=ou){if(n===ou){const r=new Error(`NullInjectorError: No provider for ${ge(e)}!`);throw r.name="NullInjectorError",r}return n}}const Mg=new ee("Set Injector scope."),vu={},Aj={};let Rg;function SC(){return void 0===Rg&&(Rg=new CC),Rg}function AC(t,e=null,n=null,r){const i=xC(t,e,n,r);return i._resolveInjectorDefTypes(),i}function xC(t,e=null,n=null,r){return new xj(t,n,e||SC(),r)}class xj{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&gr(n,a=>this.processProvider(a,e,n)),gr([e],a=>this.processInjectorType(a,[],s)),this.records.set(kg,_o(void 0,this));const o=this.records.get(Mg);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ge(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=ou,r=q.Default){this.assertNotDestroyed();const i=Jb(this),s=li(void 0);try{if(!(r&q.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function Lj(t){return"function"==typeof t||"object"==typeof t&&t instanceof ee}(e)&&ip(e);a=u&&this.injectableDefInScope(u)?_o(Ng(e),vu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&q.Self?SC():this.parent).get(e,n=r&q.Optional&&n===ou?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Ul]=o[Ul]||[]).unshift(ge(e)),i)throw o;return function lV(t,e,n,r){const i=t[Ul];throw e[Yb]&&i.unshift(e[Yb]),t.message=function dV(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=ge(e);if(Array.isArray(e))i=e.map(ge).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ge(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(sV,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ul]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{li(s),Jb(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ge(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processInjectorType(e,n,r){if(!(e=W(e)))return!1;let i=ab(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=ab(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{gr(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];gr(f,p=>this.processProvider(p,h,f||ve))}}this.injectorDefTypes.add(o);const u=Wi(o)||(()=>new o);this.records.set(o,_o(u,vu));const c=i.providers;if(null!=c&&!a){const l=e;gr(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=vo(e=W(e))?e:W(e&&e.provide);const s=function Mj(t,e,n){return MC(t)?_o(void 0,t.useValue):_o(function kC(t,e,n){let r;if(vo(t)){const i=W(t);return Wi(i)||Ng(i)}if(MC(t))r=()=>W(t.useValue);else if(function Nj(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Up(t.deps||[]));else if(function Rj(t){return!(!t||!t.useExisting)}(t))r=()=>L(W(t.useExisting));else{const i=W(t&&(t.useClass||t.provide));if(!function Oj(t){return!!t.deps}(t))return Wi(i)||Ng(i);r=()=>new i(...Up(t.deps))}return r}(t),vu)}(e);if(vo(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=_o(void 0,vu,!0),o.factory=()=>Up(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===vu&&(n.value=Aj,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Fj(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=W(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Ng(t){const e=ip(t),n=null!==e?e.factory:Wi(t);if(null!==n)return n;if(t instanceof ee)throw new he(204,!1);if(t instanceof Function)return function kj(t){const e=t.length;if(e>0)throw function su(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new he(204,!1);const n=function BL(t){const e=t&&(t[gl]||t[ub]);if(e){const n=function $L(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new he(204,!1)}function _o(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function MC(t){return null!==t&&"object"==typeof t&&aV in t}function vo(t){return"function"==typeof t}let Et=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return AC({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return AC({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=ou,t.NULL=new CC,t.\u0275prov=se({token:t,providedIn:"any",factory:()=>L(kg)}),t.__NG_ELEMENT_ID__=-1,t})();function qj(t,e){Sl(Kp(t)[1],Ze())}function O(t,e=q.Default){const n=E();return null===n?L(t,e):jb(Ze(),n,W(t),e)}function Hg(){throw new Error("invalid")}function Gg(t,e,n,r,i){const o=i?"class":"style";!function bC(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}(t,n,e.inputs[o],o,r)}function nd(t,e,n,r){const i=E(),s=oe(),o=20+t,a=i[K],u=i[o]=ng(a,e,function NU(){return B.lFrame.currentNamespace}()),c=s.firstCreatePass?function bB(t,e,n,r,i,s,o){const a=e.consts,c=go(e,t,2,i,fi(a,s));return function Tg(t,e,n,r){let i=!1;if(Eb()){const s=function dj(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];z0(n,o.selectors,!1)&&(i||(i=[]),Pl(eu(n,e),t,o.type),Yn(o)?(mC(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,yC(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=mo(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=Ml(n.mergedAttrs,d.hostAttrs),_C(t,n,e,c,d),fj(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function rj(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||q0(e)?null:mj(d,s);o.push(h),a=hC(d,c,a),u=hC(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function hj(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new he(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Ml(n.mergedAttrs,n.attrs),i}(e,n,c,fi(a,o)),null!==c.attrs&&Xl(c,c.attrs,!1),null!==c.mergedAttrs&&Xl(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];pr(c,!0);const l=c.mergedAttrs;null!==l&&kl(a,u,l);const d=c.classes;null!==d&&ug(a,u,d);const h=c.styles;return null!==h&&$0(a,u,h),64!=(64&c.flags)&&ql(s,i,u,c),0===function mU(){return B.lFrame.elementDepthCount}()&&Lt(u,i),function yU(){B.lFrame.elementDepthCount++}(),Il(c)&&(function Ig(t,e,n){!Eb()||(function cj(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||eu(n,e),Lt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Yn(u);c&&pj(e,n,u);const l=tu(e,t,a,n);Lt(l,e),null!==o&&gj(0,a-i,l,u,0,o),c&&(vn(n.index,e)[8]=l)}}(t,e,n,On(n,e)),128==(128&n.flags)&&function lj(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function bU(){return B.lFrame.currentDirectiveIndex}();try{pi(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];Tp(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&gC(c,l)}}finally{pi(-1),Tp(a)}}(t,e,n))}(s,i,c),function aC(t,e,n){if(dp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&function Eg(t,e,n=On){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}(i,c),nd}function rd(){let t=Ze();Ip()?function Ep(){B.lFrame.isParent=!1}():(t=t.parent,pr(t,!1));const e=t;!function _U(){B.lFrame.elementDepthCount--}();const n=oe();return n.firstCreatePass&&(Sl(n,t),dp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function UU(t){return 0!=(16&t.flags)}(e)&&Gg(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function VU(t){return 0!=(32&t.flags)}(e)&&Gg(n,e,E(),e.stylesWithoutHost,!1),rd}function id(t,e,n,r){return nd(t,e,n,r),rd(),id}function sd(t){return!!t&&"function"==typeof t.then}const fS=function hS(t){return!!t&&"function"==typeof t.subscribe};function Eu(t,e,n,r){const i=E(),s=oe(),o=Ze();return function gS(t,e,n,r,i,s,o,a){const u=Il(r),l=t.firstCreatePass&&EC(t),d=e[8],h=IC(e);let f=!0;if(3&r.type||a){const y=On(r,e),I=a?a(y):y,_=h.length,C=a?P=>a(Ge(P[r.index])):r.index;if(Re(n)){let P=null;if(!a&&u&&(P=function AB(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=Wg(r,e,d,s,!1);const z=n.listen(I,i,s);h.push(s,z),l&&l.push(i,C,_,_+1)}}else s=Wg(r,e,d,s,!0),I.addEventListener(i,s,o),h.push(s),l&&l.push(i,C,_,o)}else s=Wg(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const y=g.length;if(y)for(let I=0;I<y;I+=2){const at=e[g[I]][g[I+1]].subscribe(s),Mn=h.length;h.push(s,at),l&&l.push(i,r.index,Mn,-(Mn+1))}}}(s,i,i[K],o,t,e,!!n,r),Eu}function mS(t,e,n,r){try{return!1!==n(r)}catch(i){return DC(t,i),!1}}function Wg(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?vn(t.index,e):e;0==(32&e[2])&&Cg(a);let u=mS(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=mS(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function BS(t,e=""){const n=E(),r=oe(),i=t+20,s=r.firstCreatePass?go(r,i,1,e,null):r.data[i],o=n[i]=function tg(t,e){return Re(t)?t.createText(e):t.createTextNode(e)}(n[K],e);ql(r,n,o,s),pr(s,!1)}const Ji=void 0;var m$=["en",[["a","p"],["AM","PM"],Ji],[["AM","PM"],Ji,Ji],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ji,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ji,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ji,"{1} 'at' {0}",Ji],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function g$(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Ro={};function cA(t){return t in Ro||(Ro[t]=ye.ng&&ye.ng.common&&ye.ng.common.locales&&ye.ng.common.locales[t]),Ro[t]}var x=(()=>((x=x||{})[x.LocaleId=0]="LocaleId",x[x.DayPeriodsFormat=1]="DayPeriodsFormat",x[x.DayPeriodsStandalone=2]="DayPeriodsStandalone",x[x.DaysFormat=3]="DaysFormat",x[x.DaysStandalone=4]="DaysStandalone",x[x.MonthsFormat=5]="MonthsFormat",x[x.MonthsStandalone=6]="MonthsStandalone",x[x.Eras=7]="Eras",x[x.FirstDayOfWeek=8]="FirstDayOfWeek",x[x.WeekendRange=9]="WeekendRange",x[x.DateFormat=10]="DateFormat",x[x.TimeFormat=11]="TimeFormat",x[x.DateTimeFormat=12]="DateTimeFormat",x[x.NumberSymbols=13]="NumberSymbols",x[x.NumberFormats=14]="NumberFormats",x[x.CurrencyCode=15]="CurrencyCode",x[x.CurrencySymbol=16]="CurrencySymbol",x[x.CurrencyName=17]="CurrencyName",x[x.Currencies=18]="Currencies",x[x.Directionality=19]="Directionality",x[x.PluralCase=20]="PluralCase",x[x.ExtraData=21]="ExtraData",x))();const ad="en-US";let lA=ad;class OA{}class vH{resolveComponentFactory(e){throw function _H(t){const e=Error(`No component factory found for ${ge(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Po=(()=>{class t{}return t.NULL=new vH,t})();function wH(){return Oo(Ze(),E())}function Oo(t,e){return new vi(On(t,e))}let vi=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=wH,t})();class LA{}let DH=(()=>{class t{}return t.\u0275prov=se({token:t,providedIn:"root",factory:()=>null}),t})();class Au{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const UA=new Au("13.2.4"),rm={};function fd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ge(s)),Qn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&fd(u[1],u,c,r)}const o=n.type;if(8&o)fd(t,e,n.child,r);else if(32&o){const a=Xp(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=V0(e,n);if(Array.isArray(a))r.push(...a);else{const u=gu(e[16]);fd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class xu{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return fd(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Qn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(rg(e,r),Fl(n,r))}this._attachedToViewContainer=!1}k0(this._lView[1],this._lView)}onDestroy(e){!function dC(t,e,n,r){const i=IC(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&EC(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Cg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ag(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Tj(t,e,n){Dl(!0);try{Ag(t,e,n)}finally{Dl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new he(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _2(t,e){mu(t,e,e[K],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new he(902,"");this._appRef=e}}class bH extends xu{constructor(e){super(e),this._view=e}detectChanges(){wC(this._view)}checkNoChanges(){!function Dj(t){Dl(!0);try{wC(t)}finally{Dl(!1)}}(this._view)}get context(){return null}}class VA extends Po{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ot(e);return new im(n,this.ngModule)}}function jA(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const SH=new ee("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>E0});class im extends OA{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function U2(t){return t.map(L2).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return jA(this.componentDef.inputs)}get outputs(){return jA(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function AH(t,e){return{get:(n,r,i)=>{const s=t.get(n,rm,i);return s!==rm||r===rm?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(LA,vb),a=s.get(DH,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function lC(t,e,n){if(Re(t))return t.selectRootElement(e,n===hr.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):ng(o.createRenderer(null,this.componentDef),c,function CH(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function $C(t,e){return{components:[],scheduler:t||E0,clean:bj,playerHandler:e||null,flags:0}}(),f=Yl(0,null,null,1,0,null,null,null,null,null),p=yu(null,f,h,d,null,null,o,u,a,s);let g,y;bl(p);try{const I=function jC(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=go(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Xl(u,c,!0),null!==t&&(kl(i,t,c),null!==u.classes&&ug(i,t,u.classes),null!==u.styles&&$0(i,t,u.styles)));const l=r.createRenderer(t,e),d=yu(n,uC(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(Pl(eu(u,n),o,e.type),mC(o,u),yC(u,n.length,1)),Jl(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)kl(u,l,["ng-version",UA.full]);else{const{attrs:_,classes:C}=function V2(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Jn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);_&&kl(u,l,_),C&&C.length>0&&ug(u,l,C.join(" "))}if(y=function _p(t,e){return t.data[e]}(f,20),void 0!==n){const _=y.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const P=n[C];_.push(null!=P?Array.from(P):null)}}g=function BC(t,e,n,r,i){const s=n[1],o=function aj(t,e,n){const r=Ze();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),_C(t,r,e,mo(t,e,1,null),n));const i=tu(e,t,r.directiveStart,r);Lt(i,e);const s=On(r,e);return s&&Lt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=Ze();e.contentQueries(1,o,u.directiveStart)}const a=Ze();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(pi(a.index),pC(n[1],a,0,a.directiveStart,a.directiveEnd,e),gC(e,o)),o}(I,this.componentDef,p,h,[qj]),_u(f,p,null)}finally{Cl()}return new kH(this.componentType,g,Oo(y,p),p,y)}}class kH extends class yH{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new bH(i),this.componentType=e}get injector(){return new no(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class $r{}class BA{}const Fo=new Map;class GA extends $r{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new VA(this);const r=Rn(e);this._bootstrapComponents=yr(r.bootstrap),this._r3Injector=xC(e,n,[{provide:$r,useValue:this},{provide:Po,useValue:this.componentFactoryResolver}],ge(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Et.THROW_IF_NOT_FOUND,r=q.Default){return e===Et||e===$r||e===kg?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class sm extends BA{constructor(e){super(),this.moduleType=e,null!==Rn(e)&&function RH(t){const e=new Set;!function n(r){const i=Rn(r,!0),s=i.id;null!==s&&(function $A(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${ge(e)} vs ${ge(e.name)}`)}(s,Fo.get(s),r),Fo.set(s,r));const o=yr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new GA(this.moduleType,e)}}function om(t){return e=>{setTimeout(t,void 0,e)}}const Yt=class YH extends Mr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=om(u),a&&(a=om(a)),c&&(c=om(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof He&&e.add(l),l}};Symbol;let nr=(()=>{class t{}return t.__NG_ELEMENT_ID__=tG,t})();function tG(){return function XA(t,e){let n;const r=e[t.index];if(Qn(r))n=r;else{let i;if(8&t.type)i=Ge(r);else{const s=e[K];i=s.createComment("");const o=On(t,e);Qi(s,Gl(s,o),i,function b2(t,e){return Re(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=function vC(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}(r,e,i,t),Jl(e,n)}return new YA(n,t,e)}(Ze(),E())}const nG=nr,YA=class extends nG{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Oo(this._hostTNode,this._hostLView)}get injector(){return new no(this._hostTNode,this._hostLView)}get parentInjector(){const e=Nl(this._hostTNode,this._hostLView);if(Ob(e)){const n=to(e,this._hostLView),r=eo(e);return new no(n[1].data[r+8],n)}return new no(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=JA(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function iu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new im(Ot(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get($r,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function gU(t){return Qn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new YA(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function w2(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],qb(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function I2(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=og(s,o),u=r[K],c=Gl(u,o[7]);return null!==c&&function y2(t,e,n,r,i,s){r[0]=i,r[6]=e,mu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),qb(um(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=JA(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=rg(this._lContainer,n);r&&(Fl(um(this._lContainer),n),k0(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=rg(this._lContainer,n);return r&&null!=Fl(um(this._lContainer),n)?new xu(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function JA(t){return t[8]}function um(t){return t[8]||(t[8]=[])}function yd(...t){}const _d=new ee("Application Initializer");let Uo=(()=>{class t{constructor(n){this.appInits=n,this.resolve=yd,this.reject=yd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(sd(s))n.push(s);else if(fS(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(L(_d,8))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const Nu=new ee("AppId"),kG={provide:Nu,useFactory:function xG(){return`${Em()}${Em()}${Em()}`},deps:[]};function Em(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wx=new ee("Platform Initializer"),Pu=new ee("Platform ID"),Ix=new ee("appBootstrapListener");let Ex=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const wi=new ee("LocaleId"),Tx=new ee("DefaultCurrencyCode");class MG{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let vd=(()=>{class t{compileModuleSync(n){return new sm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=yr(Rn(n).declarations).reduce((o,a)=>{const u=Ot(a);return u&&o.push(new im(u)),o},[]);return new MG(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const NG=(()=>Promise.resolve(0))();function Tm(t){"undefined"==typeof Zone?NG.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Oe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yt(!1),this.onMicrotaskEmpty=new Yt(!1),this.onStable=new Yt(!1),this.onError=new Yt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function PG(){let t=ye.requestAnimationFrame,e=ye.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function LG(t){const e=()=>{!function FG(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ye,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bm(t),t.isCheckStableRunning=!0,Dm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Dx(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),bx(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Dx(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),bx(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,bm(t),Dm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Oe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,OG,yd,yd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const OG={};function Dm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Dx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bx(t){t._nesting--,Dm(t)}class UG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yt,this.onMicrotaskEmpty=new Yt,this.onStable=new Yt,this.onError=new Yt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let Cm=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oe.assertNotInAngularZone(),Tm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(L(Oe))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})(),Cx=(()=>{class t{constructor(){this._applications=new Map,Sm.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Sm.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();class VG{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let rr,Sm=new VG;const Sx=new ee("AllowMultipleToken");class Ax{constructor(e,n){this.name=e,this.token=n}}function xx(t,e,n=[]){const r=`Platform: ${e}`,i=new ee(r);return(s=[])=>{let o=kx();if(!o||o.injector.get(Sx,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:Mg,useValue:"platform"});!function HG(t){if(rr&&!rr.destroyed&&!rr.injector.get(Sx,!1))throw new he(400,"");rr=t.get(Mx);const e=t.get(wx,null);e&&e.forEach(n=>n())}(Et.create({providers:a,name:r}))}return function GG(t){const e=kx();if(!e)throw new he(401,"");return e}()}}function kx(){return rr&&!rr.destroyed?rr:null}let Mx=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function qG(t,e){let n;return n="noop"===t?new UG:("zone.js"===t?void 0:t)||new Oe({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Oe,useValue:a}];return a.run(()=>{const c=Et.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(ho,null);if(!d)throw new he(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{Am(this._modules,l),h.unsubscribe()})}),function zG(t,e,n){try{const r=n();return sd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(Uo);return h.runInitializers(),h.donePromise.then(()=>(function I$(t){yn(t,"Expected localeId to be defined"),"string"==typeof t&&(lA=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(wi,ad)||ad),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=Rx({},r);return function BG(t,e,n){const r=new sm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ou);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new he(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(L(Et))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();function Rx(t,e){return Array.isArray(e)?e.reduce(Rx,t):Object.assign(Object.assign({},t),e)}let Ou=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new be(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new be(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),Tm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function PL(...t){const e=qa(t),n=function SL(t,e){return"number"==typeof Xf(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Rr(r[0]):Ga(n)(It(r,e)):Pr}(a,u.pipe(function OL(t={}){const{connector:e=(()=>new Mr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return vt((g,y)=>{c++,!d&&!l&&h();const I=u=null!=u?u:e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Zf(p,i))}),I.subscribe(y),o||(o=new cl({next:_=>I.next(_),error:_=>{d=!0,h(),a=Zf(f,n,_),I.error(_)},complete:()=>{l=!0,h(),a=Zf(f,r),I.complete()}}),It(g).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new he(405,"");let i;i=n instanceof OA?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function $G(t){return t.isBoundToModule}(i)?void 0:this._injector.get($r),a=i.create(Et.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(Cm,null),l=c&&a.injector.get(Cx);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),Am(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new he(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Am(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Ix,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(L(Oe),L(Et),L(ho),L(Po),L(Uo))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();function Am(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Px=!0,xm=(()=>{class t{}return t.__NG_ELEMENT_ID__=QG,t})();function QG(t){return function YG(t,e,n){if(wl(t)&&!n){const r=vn(t.index,e);return new xu(r,r)}return 47&t.type?new xu(e[16],e):null}(Ze(),E(),16==(16&t))}const cq=xx(null,"core",[{provide:Pu,useValue:"unknown"},{provide:Mx,deps:[Et]},{provide:Cx,deps:[]},{provide:Ex,deps:[]}]),hq=[{provide:Ou,useClass:Ou,deps:[Oe,Et,ho,Po,Uo]},{provide:SH,deps:[Oe],useFactory:function fq(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:Uo,useClass:Uo,deps:[[new qe,_d]]},{provide:vd,useClass:vd,deps:[]},kG,{provide:wi,useFactory:function lq(t){return t||function dq(){return"undefined"!=typeof $localize&&$localize.locale||ad}()},deps:[[new cu(wi),new qe,new uo]]},{provide:Tx,useValue:"USD"}];let pq=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(L(Ou))},t.\u0275mod=Lr({type:t}),t.\u0275inj=dr({providers:hq}),t})(),Td=null;function Ii(){return Td}const Un=new ee("DocumentToken");let Zi=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:function(){return function _q(){return L(qx)}()},providedIn:"platform"}),t})();const vq=new ee("Location Initialized");let qx=(()=>{class t extends Zi{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ii().getBaseHref(this._doc)}onPopState(n){const r=Ii().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ii().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){zx()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){zx()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(L(Un))},t.\u0275prov=se({token:t,factory:function(){return function wq(){return new qx(L(Un))}()},providedIn:"platform"}),t})();function zx(){return!!window.history.pushState}function Pm(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Wx(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Gr(t){return t&&"?"!==t[0]?"?"+t:t}let Vo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:function(){return function Iq(t){const e=L(Un).location;return new Kx(L(Zi),e&&e.origin||"")}()},providedIn:"root"}),t})();const Om=new ee("appBaseHref");let Kx=(()=>{class t extends Vo{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Pm(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Gr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Gr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Gr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(L(Zi),L(Om,8))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})(),Eq=(()=>{class t extends Vo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Pm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Gr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Gr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(L(Zi),L(Om,8))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})(),Fm=(()=>{class t{constructor(n,r){this._subject=new Yt,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Wx(Qx(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Gr(r))}normalize(n){return t.stripTrailingSlash(function Dq(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Qx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Gr(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Gr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Gr,t.joinWithSlash=Pm,t.stripTrailingSlash=Wx,t.\u0275fac=function(n){return new(n||t)(L(Vo),L(Zi))},t.\u0275prov=se({token:t,factory:function(){return function Tq(){return new Fm(L(Vo),L(Zi))}()},providedIn:"root"}),t})();function Qx(t){return t.replace(/\/index.html$/,"")}var We=(()=>((We=We||{})[We.Zero=0]="Zero",We[We.One=1]="One",We[We.Two=2]="Two",We[We.Few=3]="Few",We[We.Many=4]="Many",We[We.Other=5]="Other",We))();const Mq=function uA(t){return function Qt(t){const e=function y$(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=cA(e);if(n)return n;const r=e.split("-")[0];if(n=cA(r),n)return n;if("en"===r)return m$;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[x.PluralCase]};class Nd{}let oz=(()=>{class t extends Nd{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(Mq(r||this.locale)(n)){case We.Zero:return"zero";case We.One:return"one";case We.Two:return"two";case We.Few:return"few";case We.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(L(wi))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})(),jz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Lr({type:t}),t.\u0275inj=dr({providers:[{provide:Nd,useClass:oz}]}),t})();let Gz=(()=>{class t{}return t.\u0275prov=se({token:t,providedIn:"root",factory:()=>new qz(L(Un),window)}),t})();class qz{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function zz(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ck(this.window.history)||ck(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ck(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Qm extends class Kz extends class yq{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function mq(t){Td||(Td=t)}(new Qm)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Qz(){return Vu=Vu||document.querySelector("base"),Vu?Vu.getAttribute("href"):null}();return null==n?null:function Yz(t){Pd=Pd||document.createElement("a"),Pd.setAttribute("href",t);const e=Pd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Vu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function az(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Pd,Vu=null;const lk=new ee("TRANSITION_ID"),Xz=[{provide:_d,useFactory:function Jz(t,e,n){return()=>{n.get(Uo).donePromise.then(()=>{const r=Ii(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[lk,Un,Et],multi:!0}];class Ym{static init(){!function jG(t){Sm=t}(new Ym)}addToWindow(e){ye.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ye.getAllAngularTestabilities=()=>e.getAllTestabilities(),ye.getAllAngularRootElements=()=>e.getAllRootElements(),ye.frameworkStabilizers||(ye.frameworkStabilizers=[]),ye.frameworkStabilizers.push(r=>{const i=ye.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Ii().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let Zz=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const Od=new ee("EventManagerPlugins");let Fd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(L(Od),L(Oe))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();class dk{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Ii().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let hk=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})(),ju=(()=>{class t extends hk{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(fk),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(fk))}}return t.\u0275fac=function(n){return new(n||t)(L(Un))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();function fk(t){Ii().remove(t)}const Jm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xm=/%COMP%/g;function Ld(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ld(t,i,n):(i=i.replace(Xm,t),n.push(i))}return n}function mk(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Zm=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ey(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case hr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new sW(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case hr.ShadowDom:return new oW(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ld(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(L(Fd),L(ju),L(Nu))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();class ey{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Jm[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Jm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Jm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(In.DashCase|In.Important)?e.style.setProperty(n,r,i&In.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&In.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,mk(r)):this.eventManager.addEventListener(e,n,mk(r))}}class sW extends ey{constructor(e,n,r,i){super(e),this.component=r;const s=Ld(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function nW(t){return"_ngcontent-%COMP%".replace(Xm,t)}(i+"-"+r.id),this.hostAttr=function rW(t){return"_nghost-%COMP%".replace(Xm,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class oW extends ey{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ld(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let aW=(()=>{class t extends dk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(L(Un))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const _k=["alt","control","meta","shift"],cW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vk={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lW={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let dW=(()=>{class t extends dk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ii().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(_k.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function hW(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&vk.hasOwnProperty(e)&&(e=vk[e]))}return cW[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),_k.forEach(s=>{s!=i&&lW[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(L(Un))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const mW=xx(cq,"browser",[{provide:Pu,useValue:"browser"},{provide:wx,useValue:function fW(){Qm.makeCurrent(),Ym.init()},multi:!0},{provide:Un,useFactory:function gW(){return function dU(t){mp=t}(document),document},deps:[]}]),yW=[{provide:Mg,useValue:"root"},{provide:ho,useFactory:function pW(){return new ho},deps:[]},{provide:Od,useClass:aW,multi:!0,deps:[Un,Oe,Pu]},{provide:Od,useClass:dW,multi:!0,deps:[Un]},{provide:Zm,useClass:Zm,deps:[Fd,ju,Nu]},{provide:LA,useExisting:Zm},{provide:hk,useExisting:ju},{provide:ju,useClass:ju,deps:[Un]},{provide:Cm,useClass:Cm,deps:[Oe]},{provide:Fd,useClass:Fd,deps:[Od,Oe]},{provide:class Wz{},useClass:Zz,deps:[]}];let _W=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Nu,useValue:n.appId},{provide:lk,useExisting:Nu},Xz]}}}return t.\u0275fac=function(n){return new(n||t)(L(t,12))},t.\u0275mod=Lr({type:t}),t.\u0275inj=dr({providers:yW,imports:[jz,pq]}),t})();function Ek(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){Ek(s,r,i,o,a,"next",u)}function a(u){Ek(s,r,i,o,a,"throw",u)}o(void 0)})}}"undefined"!=typeof window&&window;const ry={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Tn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ck(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function Ud(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Sk(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function jo(){return"object"==typeof indexedDB}function Vd(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function oy(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Er.prototype.create)}}class Er{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function VW(t,e){return t.replace(jW,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new zr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const jW=/\{\$([^}]+)}/g;function ay(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xk(s)&&xk(o)){if(!ay(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xk(t){return null!==t&&"object"==typeof t}function kk(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class $W{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function HW(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=uy),void 0===i.error&&(i.error=uy),void 0===i.complete&&(i.complete=uy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uy(){}function ly(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function es(t){return t&&t._delegate?t._delegate:t}class Xt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ts="[DEFAULT]";class QW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function JW(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ts?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class XW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const dy=[];var ae=(()=>{return(t=ae||(ae={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ae;var t})();const Mk={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},ZW=ae.INFO,e3={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},t3=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=e3[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Bo{constructor(e){this.name=e,this._logLevel=ZW,this._logHandler=t3,this._userLogHandler=null,dy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Mk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}class n3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function r3(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const hy="@firebase/app",fy=new Bo("@firebase/app"),py="[DEFAULT]",x3={[hy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ns=new Map,Bd=new Map;function k3(t,e){try{t.container.addComponent(e)}catch(n){fy.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function un(t){const e=t.name;if(Bd.has(e))return fy.debug(`There were multiple attempts to register component ${e}.`),!1;Bd.set(e,t);for(const n of ns.values())k3(n,t);return!0}function $d(t,e){return t.container.getProvider(e)}const Bu=new Er("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class R3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bu.create("app-deleted",{appName:this._name})}}function N3(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:py,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Bu.create("bad-app-name",{appName:String(r)});const i=ns.get(r);if(i){if(ay(t,i.options)&&ay(n,i.config))return i;throw Bu.create("duplicate-app",{appName:r})}const s=new XW(r);for(const a of Bd.values())s.addComponent(a);const o=new R3(t,n,s);return ns.set(r,o),o}function Nk(t=py){const e=ns.get(t);if(!e)throw Bu.create("no-app",{appName:t});return e}function Pk(){return Array.from(ns.values())}function je(t,e,n){var r;let i=null!==(r=x3[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void fy.warn(a.join(" "))}un(new Xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}!function P3(t){un(new Xt("platform-logger",e=>new n3(e),"PRIVATE")),je(hy,"0.7.17",t),je(hy,"0.7.17","esm2017"),je("fire-js","")}(""),je("firebase","9.6.7","app");var $o=Ui(940);const Ok="@firebase/installations",Lk="w:0.5.5",Uk="FIS_v2",Wr=new Er("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Vk(t){return t instanceof zr&&t.code.includes("request-failed")}function yy({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function jk(t){return{token:t.token,requestStatus:2,expiresIn:$3(t.expiresIn),creationTime:Date.now()}}function _y(t,e){return vy.apply(this,arguments)}function vy(){return(vy=m(function*(t,e){const r=(yield e.json()).error;return Wr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Bk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $k(t,{refreshToken:e}){const n=Bk(t);return n.append("Authorization",function H3(t){return`${Uk} ${t}`}(e)),n}function wy(t){return Iy.apply(this,arguments)}function Iy(){return(Iy=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function $3(t){return Number(t.replace("s","000"))}function G3(t,e){return Ey.apply(this,arguments)}function Ey(){return(Ey=m(function*(t,{fid:e}){const n=yy(t),s={method:"POST",headers:Bk(t),body:JSON.stringify({fid:e,authVersion:Uk,appId:t.appId,sdkVersion:Lk})},o=yield wy(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:jk(a.authToken)}}throw yield _y("Create Installation",o)})).apply(this,arguments)}function Hk(t){return new Promise(e=>{setTimeout(e,t)})}const z3=/^[cdef][\w-]{21}$/;function W3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function K3(t){return function q3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return z3.test(n)?n:""}catch(t){return""}}function Ho(t){return`${t.appName}!${t.appId}`}const Go=new Map;function Gk(t,e){const n=Ho(t);qk(n,e),function J3(t,e){const n=function zk(){return!rs&&"BroadcastChannel"in self&&(rs=new BroadcastChannel("[Firebase] FID Change"),rs.onmessage=t=>{qk(t.data.key,t.data.fid)}),rs}();n&&n.postMessage({key:t,fid:e}),function Wk(){0===Go.size&&rs&&(rs.close(),rs=null)}()}(n,e)}function qk(t,e){const n=Go.get(t);if(n)for(const r of n)r(e)}let rs=null;const is="firebase-installations-store";let Dy=null;function by(){return Dy||(Dy=(0,$o.openDb)("firebase-installations-database",1,t=>{0===t.oldVersion&&t.createObjectStore(is)})),Dy}function Gd(t,e){return Cy.apply(this,arguments)}function Cy(){return(Cy=m(function*(t,e){const n=Ho(t),i=(yield by()).transaction(is,"readwrite"),s=i.objectStore(is),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&Gk(t,e.fid),e})).apply(this,arguments)}function Sy(t){return Ay.apply(this,arguments)}function Ay(){return(Ay=m(function*(t){const e=Ho(t),r=(yield by()).transaction(is,"readwrite");yield r.objectStore(is).delete(e),yield r.complete})).apply(this,arguments)}function $u(t,e){return xy.apply(this,arguments)}function xy(){return(xy=m(function*(t,e){const n=Ho(t),i=(yield by()).transaction(is,"readwrite"),s=i.objectStore(is),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&Gk(t,a.fid),a})).apply(this,arguments)}function ky(t){return My.apply(this,arguments)}function My(){return(My=m(function*(t){let e;const n=yield $u(t,r=>{const i=e8(r),s=t8(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function e8(t){return Qk(t||{fid:W3(),registrationStatus:0})}function t8(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Wr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function n8(t,e){return Ry.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:r8(t)}:{installationEntry:e}}function Ry(){return(Ry=m(function*(t,e){try{return Gd(t,yield G3(t,e))}catch(n){throw Vk(n)&&409===n.customData.serverCode?yield Sy(t):yield Gd(t,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function r8(t){return Ny.apply(this,arguments)}function Ny(){return(Ny=m(function*(t){let e=yield Kk(t);for(;1===e.registrationStatus;)yield Hk(100),e=yield Kk(t);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield ky(t);return r||n}return e})).apply(this,arguments)}function Kk(t){return $u(t,e=>{if(!e)throw Wr.create("installation-not-found");return Qk(e)})}function Qk(t){return function i8(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function s8(t,e){return Py.apply(this,arguments)}function Py(){return(Py=m(function*({appConfig:t,platformLoggerProvider:e},n){const r=o8(t,n),i=$k(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Lk}})},u=yield wy(()=>fetch(r,a));if(u.ok)return jk(yield u.json());throw yield _y("Generate Auth Token",u)})).apply(this,arguments)}function o8(t,{fid:e}){return`${yy(t)}/${e}/authTokens:generate`}function Oy(t){return Fy.apply(this,arguments)}function Fy(){return(Fy=m(function*(t,e=!1){let n;const r=yield $u(t.appConfig,s=>{if(!Jk(s))throw Wr.create("not-registered");const o=s.authToken;if(!e&&c8(o))return s;if(1===o.requestStatus)return n=a8(t,e),s;{if(!navigator.onLine)throw Wr.create("app-offline");const a=d8(s);return n=u8(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function a8(t,e){return Ly.apply(this,arguments)}function Ly(){return(Ly=m(function*(t,e){let n=yield Yk(t.appConfig);for(;1===n.authToken.requestStatus;)yield Hk(100),n=yield Yk(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Oy(t,e):r})).apply(this,arguments)}function Yk(t){return $u(t,e=>{if(!Jk(e))throw Wr.create("not-registered");return function h8(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function u8(t,e){return Uy.apply(this,arguments)}function Uy(){return(Uy=m(function*(t,e){try{const n=yield s8(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Gd(t.appConfig,r),n}catch(n){if(!Vk(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Gd(t.appConfig,r)}else yield Sy(t.appConfig);throw n}})).apply(this,arguments)}function Jk(t){return void 0!==t&&2===t.registrationStatus}function c8(t){return 2===t.requestStatus&&!function l8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function d8(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Vy(){return(Vy=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield ky(e.appConfig);return r?r.catch(console.error):Oy(e).catch(console.error),n.fid})).apply(this,arguments)}function jy(){return(jy=m(function*(t,e=!1){const n=t;return yield g8(n.appConfig),(yield Oy(n,e)).token})).apply(this,arguments)}function g8(t){return By.apply(this,arguments)}function By(){return(By=m(function*(t){const{registrationPromise:e}=yield ky(t);e&&(yield e)})).apply(this,arguments)}function Gy(t){return Wr.create("missing-app-config-values",{valueName:t})}const Xk="installations",w8=t=>{const e=t.getProvider("app").getImmediate(),n=function _8(t){if(!t||!t.options)throw Gy("App Configuration");if(!t.name)throw Gy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Gy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,platformLoggerProvider:$d(e,"platform-logger"),_delete:()=>Promise.resolve()}},I8=t=>{const n=$d(t.getProvider("app").getImmediate(),Xk).getImmediate();return{getId:()=>function f8(t){return Vy.apply(this,arguments)}(n),getToken:i=>function p8(t){return jy.apply(this,arguments)}(n,i)}};(function E8(){un(new Xt(Xk,w8,"PUBLIC")),un(new Xt("installations-internal",I8,"PRIVATE"))})(),je(Ok,"0.5.5"),je(Ok,"0.5.5","esm2017");const qy="@firebase/remote-config",cn=new Er("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class N8{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function P8(t=navigator){return t.languages&&t.languages[0]||t.language}class O8{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:P8()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((I,_)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",_(C)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let _="fetch-client-network";throw"AbortError"===I.name&&(_="fetch-timeout"),cn.create(_,{originalErrorMessage:I.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,y;if(200===h.status){let I;try{I=yield h.json()}catch(_){throw cn.create("fetch-client-parse",{originalErrorMessage:_.message})}g=I.entries,y=I.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(g={}),304!==f&&200!==f)throw cn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class U8{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function F8(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function L8(t){if(!(t instanceof zr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+ly(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class B8{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function zd(t,e){const n=t.target.error||void 0;return cn.create(e,{originalErrorMessage:n&&n.message})}const ss="app_namespace_store";class q8{constructor(e,n,r,i=function G8(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(zd(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ss,{keyPath:"compositeKey"})}}catch(n){e(cn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ss],"readonly").objectStore(ss),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(zd(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(cn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([ss],"readwrite").objectStore(ss),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(zd(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(cn.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ss],"readwrite").objectStore(ss),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(zd(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(cn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class z8{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function K8(){return Yy.apply(this,arguments)}function Yy(){return(Yy=m(function*(){if(!jo())return!1;try{return yield Vd()}catch(t){return!1}})).apply(this,arguments)}!function W8(){un(new Xt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw cn.create("registration-window");if(!jo())throw cn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw cn.create("registration-project-id");if(!o)throw cn.create("registration-api-key");if(!a)throw cn.create("registration-app-id");const u=new q8(a,r.name,n=n||"firebase"),c=new z8(u),l=new Bo(qy);l.logLevel=ae.ERROR;const d=new O8(i,"9.6.7",n,s,o,a),h=new U8(d,u),f=new N8(h,u,c,l),p=new B8(r,f,c,u,l);return function k8(t){const e=es(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),je(qy,"0.3.4"),je(qy,"0.3.4","esm2017")}();const Q8="/firebase-messaging-sw.js",Y8="/firebase-cloud-messaging-push-scope",nM="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",rM="google.c.a.c_id",X8="google.c.a.c_l",Z8="google.c.a.ts",e4="google.c.a.e";var qo=(()=>{return(t=qo||(qo={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",qo;var t})();function Kr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function t4(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Jy="fcm_token_details_db",iM="fcm_token_object_Store";function r4(t){return Xy.apply(this,arguments)}function Xy(){return Xy=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Jy))return null;let e=null;return(yield(0,$o.openDb)(Jy,5,function(){var r=m(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(iM))return;const o=i.transaction.objectStore(iM),a=yield o.index("fcmSenderId").get(t);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:Kr(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Kr(u.auth),p256dh:Kr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Kr(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Kr(u.auth),p256dh:Kr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Kr(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,$o.deleteDb)(Jy),yield(0,$o.deleteDb)("fcm_vapid_details_db"),yield(0,$o.deleteDb)("undefined"),i4(e)?e:null}),Xy.apply(this,arguments)}function i4(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const os="firebase-messaging-store";let Zy=null;function e_(){return Zy||(Zy=(0,$o.openDb)("firebase-messaging-database",1,t=>{0===t.oldVersion&&t.createObjectStore(os)})),Zy}function sM(t){return t_.apply(this,arguments)}function t_(){return(t_=m(function*(t){const e=s_(t),r=yield(yield e_()).transaction(os).objectStore(os).get(e);if(r)return r;{const i=yield r4(t.appConfig.senderId);if(i)return yield n_(t,i),i}})).apply(this,arguments)}function n_(t,e){return r_.apply(this,arguments)}function r_(){return(r_=m(function*(t,e){const n=s_(t),i=(yield e_()).transaction(os,"readwrite");return yield i.objectStore(os).put(e,n),yield i.complete,e})).apply(this,arguments)}function a4(t){return i_.apply(this,arguments)}function i_(){return(i_=m(function*(t){const e=s_(t),r=(yield e_()).transaction(os,"readwrite");yield r.objectStore(os).delete(e),yield r.complete})).apply(this,arguments)}function s_({appConfig:t}){return t.appId}const Tt=new Er("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function c4(t,e){return o_.apply(this,arguments)}function o_(){return(o_=m(function*(t,e){const n=yield l_(t),r=aM(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(c_(t.appConfig),i)).json()}catch(o){throw Tt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Tt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Tt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function l4(t,e){return a_.apply(this,arguments)}function a_(){return(a_=m(function*(t,e){const n=yield l_(t),r=aM(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${c_(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Tt.create("token-update-failed",{errorInfo:o})}if(s.error)throw Tt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Tt.create("token-update-no-token");return s.token})).apply(this,arguments)}function oM(t,e){return u_.apply(this,arguments)}function u_(){return(u_=m(function*(t,e){const r={method:"DELETE",headers:yield l_(t)};try{const s=yield(yield fetch(`${c_(t.appConfig)}/${e}`,r)).json();if(s.error)throw Tt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Tt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function c_({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function l_(t){return d_.apply(this,arguments)}function d_(){return(d_=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function aM({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==nM&&(i.web.applicationPubKey=r),i}const d4=6048e5;function h4(t){return h_.apply(this,arguments)}function h_(){return(h_=m(function*(t){const e=yield p4(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Kr(e.getKey("auth")),p256dh:Kr(e.getKey("p256dh"))},r=yield sM(t.firebaseDependencies);if(r){if(g4(r.subscriptionOptions,n))return Date.now()>=r.createTime+d4?f4(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield oM(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return cM(t.firebaseDependencies,n)}return cM(t.firebaseDependencies,n)})).apply(this,arguments)}function uM(t){return f_.apply(this,arguments)}function f_(){return(f_=m(function*(t){const e=yield sM(t.firebaseDependencies);e&&(yield oM(t.firebaseDependencies,e.token),yield a4(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function f4(t,e){return p_.apply(this,arguments)}function p_(){return(p_=m(function*(t,e){try{const n=yield l4(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield n_(t.firebaseDependencies,r),n}catch(n){throw yield uM(t),n}})).apply(this,arguments)}function cM(t,e){return g_.apply(this,arguments)}function g_(){return(g_=m(function*(t,e){const r={token:yield c4(t,e),createTime:Date.now(),subscriptionOptions:e};return yield n_(t,r),r.token})).apply(this,arguments)}function p4(t,e){return m_.apply(this,arguments)}function m_(){return(m_=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t4(e)})})).apply(this,arguments)}function g4(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function lM(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function m4(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function y4(t,e){!e.data||(t.data=e.data)}(e,t),function _4(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function v4(t){return"object"==typeof t&&!!t&&rM in t}function dM(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function y_(t){return Tt.create("missing-app-config-values",{valueName:t})}dM("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dM("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class I4{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function w4(t){if(!t||!t.options)throw y_("App Configuration Object");if(!t.name)throw y_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw y_(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function hM(t){return __.apply(this,arguments)}function __(){return(__=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Q8,{scope:Y8}),t.swRegistration.update().catch(()=>{})}catch(e){throw Tt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function E4(t,e){return v_.apply(this,arguments)}function v_(){return(v_=m(function*(t,e){if(!e&&!t.swRegistration&&(yield hM(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Tt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function T4(t,e){return w_.apply(this,arguments)}function w_(){return(w_=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=nM)})).apply(this,arguments)}function I_(){return(I_=m(function*(t,e){if(!navigator)throw Tt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tt.create("permission-blocked");return yield T4(t,null==e?void 0:e.vapidKey),yield E4(t,null==e?void 0:e.serviceWorkerRegistration),h4(t)})).apply(this,arguments)}function D4(t,e,n){return E_.apply(this,arguments)}function E_(){return(E_=m(function*(t,e,n){const r=b4(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[rM],message_name:n[X8],message_time:n[Z8],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function b4(t){switch(t){case qo.NOTIFICATION_CLICKED:return"notification_open";case qo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function T_(){return(T_=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===qo.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(lM(n)):t.onMessageHandler.next(lM(n)));const r=n.data;v4(r)&&"1"===r[e4]&&(yield D4(t,n.messageType,r))})).apply(this,arguments)}const pM="@firebase/messaging",S4=t=>{const e=new I4(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function C4(t,e){return T_.apply(this,arguments)}(e,n)),e},A4=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function fM(t,e){return I_.apply(this,arguments)}(e,r)}};function mM(){return D_.apply(this,arguments)}function D_(){return(D_=m(function*(){try{yield Vd()}catch(t){return!1}return"undefined"!=typeof window&&jo()&&oy()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function x4(){un(new Xt("messaging",S4,"PUBLIC")),un(new Xt("messaging-internal",A4,"PRIVATE")),je(pM,"0.9.8"),je(pM,"0.9.8","esm2017")}();const Wd="analytics",R4="firebase_id",O4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yM="https://www.googletagmanager.com/gtag/js",Dt=new Bo("@firebase/analytics");function _M(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function F4(t,e){const n=document.createElement("script");n.src=`${yM}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function U4(t,e,n,r,i,s){return S_.apply(this,arguments)}function S_(){return(S_=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield _M(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Dt.error(a)}t("config",i,s)})).apply(this,arguments)}function V4(t,e,n,r,i){return A_.apply(this,arguments)}function A_(){return(A_=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield _M(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Dt.error(s)}})).apply(this,arguments)}function $4(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(yM))return e;return null}const Dn=new Er("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),vM=new class z4{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function W4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function K4(t){return x_.apply(this,arguments)}function x_(){return(x_=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:W4(r)},s=O4.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw Dn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Q4(t){return k_.apply(this,arguments)}function k_(){return(k_=m(function*(t,e=vM,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Dn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Dn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new X4;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:6e4),wM({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function wM(t,e,n){return M_.apply(this,arguments)}function M_(){return(M_=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=vM){const{appId:s,measurementId:o}=t;try{yield Y4(r,e)}catch(a){if(o)return Dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield K4(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!J4(a)){if(i.deleteThrottleMetadata(s),o)return Dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?ly(n,i.intervalMillis,30):ly(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),Dt.debug(`Calling attemptFetch again in ${u} millis`),wM(t,c,r,i)}})).apply(this,arguments)}function Y4(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function J4(t){if(!(t instanceof zr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class X4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function Z4(){return R_.apply(this,arguments)}function R_(){return(R_=m(function*(){if(!jo())return Dt.warn(Dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Vd()}catch(t){return Dt.warn(Dn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function N_(){return(N_=m(function*(t,e,n,r,i,s,o){var a;const u=Q4(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Dt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Dt.error(f)),e.push(u);const c=Z4().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);$4()||F4(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[R4]=d),i("config",l.measurementId,h),l.measurementId})).apply(this,arguments)}class tK{constructor(e){this.app=e}_delete(){return delete Qr[this.app.options.appId],Promise.resolve()}}let Qr={},IM=[];const EM={};let DM,Hu,Kd="dataLayer",P_=!1;function rK(t,e,n){!function nK(){const t=[];if(Ud()&&t.push("This is a browser extension environment."),oy()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Dn.create("invalid-analytics-context",{errorInfo:e});Dt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Dn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Dn.create("no-api-key");Dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qr[r])throw Dn.create("already-exists",{id:r});if(!P_){!function L4(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Kd);const{wrappedGtag:s,gtagCore:o}=function B4(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function j4(t,e,n,r){function s(){return(s=m(function*(o,a,u){try{"event"===o?yield V4(t,e,n,a,u):"config"===o?yield U4(t,e,n,r,a,u):t("set",a)}catch(c){Dt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Qr,IM,EM,Kd,"gtag");Hu=s,DM=o,P_=!0}return Qr[r]=function eK(t,e,n,r,i,s,o){return N_.apply(this,arguments)}(t,IM,EM,e,DM,Kd,n),new tK(t)}function O_(){return(O_=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function lK(){return j_.apply(this,arguments)}function j_(){return(j_=m(function*(){if(Ud()||!oy()||!jo())return!1;try{return yield Vd()}catch(t){return!1}})).apply(this,arguments)}const bM="@firebase/analytics";!function hK(){un(new Xt(Wd,(e,{options:n})=>rK(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),un(new Xt("analytics-internal",function t(e){try{const n=e.getProvider(Wd).getImmediate();return{logEvent:(r,i,s)=>function dK(t,e,n,r){t=es(t),function iK(t,e,n,r,i){return O_.apply(this,arguments)}(Hu,Qr[t.app.options.appId],e,n,r).catch(i=>Dt.error(i))}(n,r,i,s)}}catch(n){throw Dn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),je(bM,"0.7.5"),je(bM,"0.7.5","esm2017")}();class fK extends He{constructor(e,n){super()}schedule(e,n=0){return this}}const Qd={setInterval(...t){const{delegate:e}=Qd;return((null==e?void 0:e.setInterval)||setInterval)(...t)},clearInterval(t){const{delegate:e}=Qd;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class SM extends fK{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return Qd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;Qd.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Hs(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const AM={now:()=>(AM.delegate||Date).now(),delegate:void 0};class Gu{constructor(e,n=Gu.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Gu.now=AM.now;class xM extends Gu{constructor(e,n=Gu.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const mK=new class gK extends xM{}(class pK extends SM{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),yK=new xM(SM);function ln(t,e,n){const r=me(t)||e||n?{next:t,error:e,complete:n}:t;return r?vt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(wt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Bi}const B_=new Au("7.2.1"),$_="__angularfire_symbol__analyticsIsSupportedValue",H_="__angularfire_symbol__analyticsIsSupported",G_="__angularfire_symbol__remoteConfigIsSupportedValue",q_="__angularfire_symbol__remoteConfigIsSupported",z_="__angularfire_symbol__messagingIsSupportedValue",W_="__angularfire_symbol__messagingIsSupported";globalThis[H_]||(globalThis[H_]=lK().then(t=>globalThis[$_]=t).catch(()=>globalThis[$_]=!1)),globalThis[W_]||(globalThis[W_]=mM().then(t=>globalThis[z_]=t).catch(()=>globalThis[z_]=!1)),globalThis[q_]||(globalThis[q_]=K8().then(t=>globalThis[G_]=t).catch(()=>globalThis[G_]=!1));const Y_=(t,e)=>{const n=e?[e]:Pk(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function zo(){}class kM{constructor(e,n=mK){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class _K{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zo,{},zo,zo)),n.pipe(ln({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let MM=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new kM(Zone.current)),this.insideAngular=n.run(()=>new kM(Zone.current,yK)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(L(Oe))},t.\u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function as(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function vK(t){return as().ngZone.runOutsideAngular(()=>t())}function us(t){return as().ngZone.run(()=>t())}function wK(t){return as(),function IK(t){return function(n){return(n=n.lift(new _K(t.ngZone))).pipe(hl(t.outsideAngular),dl(t.insideAngular))}}(as())(t)}const EK=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),us(()=>t.apply(void 0,r))},J_=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=us(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zo,{},zo,zo)))),r[s]=EK(r[s],n));const i=vK(()=>t.apply(this,r));if(!e){if(i instanceof be){const s=as();return i.pipe(hl(s.outsideAngular),dl(s.insideAngular))}return us(()=>i)}return i instanceof be?i.pipe(wK):i instanceof Promise?us(()=>new Promise((s,o)=>i.then(a=>us(()=>s(a)),a=>us(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:us(()=>i)};class Wo{constructor(e){return e}}class RM{constructor(){return Pk()}}const X_=new ee("angularfire2._apps"),DK={provide:Wo,useFactory:function TK(t){return t&&1===t.length?t[0]:new Wo(Nk())},deps:[[new qe,X_]]},bK={provide:RM,deps:[[new qe,X_]]};function CK(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Wo(r)}}let SK=(()=>{class t{constructor(n){je("angularfire",B_.full,"core"),je("angularfire",B_.full,"app"),je("angular",UA.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(L(Pu))},t.\u0275mod=Lr({type:t}),t.\u0275inj=dr({providers:[DK,bK]}),t})();function AK(t,...e){return{ngModule:SK,providers:[{provide:X_,useFactory:CK(t),multi:!0,deps:[Oe,Et,MM,...e]}]}}const xK=J_(N3,!0);const kK=function NM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},PM=new Er("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),OM=new Bo("@firebase/auth");function Yd(t,...e){OM.logLevel<=ae.ERROR&&OM.error(`Auth (9.6.7): ${t}`,...e)}function dn(t,...e){throw Z_(t,...e)}function Tr(t,...e){return Z_(t,...e)}function FM(t,e,n){const r=Object.assign(Object.assign({},kK()),{[e]:n});return new Er("auth","Firebase",r).create(e,{appName:t.name})}function Z_(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PM.create(t,...e)}function b(t,e,...n){if(!t)throw Z_(e,...n)}function Dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yd(e),new Error(e)}function Ti(t,e){t||Dr(e)}const LM=new Map;function Yr(t){Ti(t instanceof Function,"Expected a class definition");let e=LM.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LM.set(t,e),e)}function UM(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=Ck()||Sk()}get(){return function NK(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ev(){return"http:"===UM()||"https:"===UM()}()||Ud()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class VM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const OK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},FK=new zu(3e4,6e4);function lt(t,e,n,r){return nv.apply(this,arguments)}function nv(){return(nv=m(function*(t,e,n,r,i={}){return jM(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=kk(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),VM.fetch()(BM(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function jM(t,e,n){return rv.apply(this,arguments)}function rv(){return(rv=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},OK),e);try{const i=new LK(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Jd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Jd(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Jd(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw FM(t,l,c);dn(t,l)}}catch(i){if(i instanceof zr)throw i;dn(t,"network-request-failed")}})).apply(this,arguments)}function BM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function tv(t,e){Ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class LK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),FK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tr(t,e,r);return i.customData._tokenResponse=n,i}function sv(){return(sv=m(function*(t,e){return lt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function jK(t,e){return av.apply(this,arguments)}function av(){return(av=m(function*(t,e){return lt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Wu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function uv(){return(uv=m(function*(t,e=!1){const n=es(t),r=yield n.getIdToken(e),i=Xd(r);b(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Wu(cv(i.auth_time)),issuedAtTime:Wu(cv(i.iat)),expirationTime:Wu(cv(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function cv(t){return 1e3*Number(t)}function Xd(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Yd("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return ry.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(Yd("Failed to decode base64 JWT payload"),null)}catch(i){return Yd("Caught error parsing JWT payload as JSON",i),null}}function Xr(t,e){return lv.apply(this,arguments)}function lv(){return(lv=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof zr&&HK(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function HK({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class GK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class $M{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ku(t){return dv.apply(this,arguments)}function dv(){return(dv=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Xr(t,jK(n,{idToken:r}));b(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?WK(s.providerUserInfo):[],a=zK(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $M(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function hv(){return(hv=m(function*(t){const e=es(t);yield Ku(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function zK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WK(t){return t.map(e=>{var{providerId:n}=e,r=qD(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function fv(){return(fv=m(function*(t,e){const n=yield jM(t,{},m(function*(){const r=kk({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=BM(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",VM.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Qu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b(void 0!==e.idToken,"internal-error"),b(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function $K(t){const e=Xd(t);return b(e,"internal-error"),b(void 0!==e.exp,"internal-error"),b(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return b(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function KK(t,e){return fv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Qu;return r&&(b("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(b("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(b("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qu,this.toJSON())}_performRefresh(){return Dr("not implemented")}}function Di(t,e){b("string"==typeof t||void 0===t,"internal-error",{appName:e})}class cs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=qD(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $M(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield Xr(n,n.stsTokenManager.getToken(n.auth,e));return b(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function BK(t){return uv.apply(this,arguments)}(this,e)}reload(){return function qK(t){return hv.apply(this,arguments)}(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ku(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield Xr(e,function UK(t,e){return sv.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:C,emailVerified:P,isAnonymous:z,providerData:at,stsTokenManager:Mn}=n;b(C&&Mn,e,"internal-error");const sl=Qu.fromJSON(this.name,Mn);b("string"==typeof C,e,"internal-error"),Di(d,e.name),Di(h,e.name),b("boolean"==typeof P,e,"internal-error"),b("boolean"==typeof z,e,"internal-error"),Di(f,e.name),Di(p,e.name),Di(g,e.name),Di(y,e.name),Di(I,e.name),Di(_,e.name);const Bs=new cs({uid:C,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:z,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:sl,createdAt:I,lastLoginAt:_});return at&&Array.isArray(at)&&(Bs.providerData=at.map(ol=>Object.assign({},ol))),y&&(Bs._redirectEventId=y),Bs}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Qu;i.updateFromServerResponse(n);const s=new cs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ku(s),s})()}}const HM=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Zd(t,e,n){return`firebase:${t}:${e}:${n}`}class Qo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Zd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?cs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Qo(Yr(HM),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Yr(HM);const o=Zd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=cs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new Qo(s,e,r)):new Qo(s,e,r)})()}}function GM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function WM(t=Tn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function qM(t=Tn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function QM(t=Tn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function YM(t=Tn()){return/webos/i.test(t)}(e))return"Webos";if(function pv(t=Tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function zM(t=Tn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function KM(t=Tn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function JM(t,e=[]){let n;switch(t){case"Browser":n=GM(Tn());break;case"Worker":n=`${GM(Tn())}-${t}`;break;default:n=t}return`${n}/JsCore/9.6.7/${e.length?e.join(","):"FirebaseCore-web"}`}class JK{constructor(e,n){this.app=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XM(this),this.idTokenSubscription=new XM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PM,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Qo.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(b(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Ku(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function PK(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?es(e):null;return r&&b(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return m(function*(){if(!n._deleted)return e&&b(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(m(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(Yr(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Er("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&Yr(e)||n._popupRedirectResolver;b(r,n,"argument-error"),n.redirectPersistenceManager=yield Qo.create(n,[Yr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return b(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){const n={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId),n})()}}class XM{constructor(e){this.auth=e,this.observer=null,this.addObserver=function BW(t,e){const n=new $W(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function yR(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new zu(3e4,6e4),new zu(2e3,1e4),new zu(3e4,6e4),new zu(5e3,15e3);var xR="@firebase/auth";class V5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function B5(t){un(new Xt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{b(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),b(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JM(t)},u=new JK(o,a);return function RK(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yr);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),un(new Xt("auth-internal",e=>{const n=function hn(t){return es(t)}(e.getProvider("auth").getImmediate());return new V5(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),je(xR,"0.19.9",function j5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),je(xR,"0.19.9","esm2017")}("Browser");class RR{constructor(){return Y_("auth")}}const NR=new Map,q5={activated:!1,tokenObservers:[]},z5={initialized:!1,enabled:!1};function dt(t){return NR.get(t)||q5}function or(t,e){NR.set(t,e)}function hh(){return z5}class J5{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new sy,yield function X5(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new sy,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Zt=new Er("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function OR(t){if(!dt(t).activated)throw Zt.create("use-before-activation",{appName:t.name})}function Xw(t,e){return Zw.apply(this,arguments)}function Zw(){return(Zw=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Zt.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw Zt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Zt.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Zt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function r7(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Zu="firebase-app-check-store";let gh=null;function LR(){return gh||(gh=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Zt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Zu,{keyPath:"compositeKey"})}}catch(n){e(Zt.create("storage-open",{originalErrorMessage:n.message}))}}),gh)}function eI(){return(eI=m(function*(t,e){const r=(yield LR()).transaction(Zu,"readwrite"),s=r.objectStore(Zu).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Zt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const ec=new Bo("@firebase/app-check");function BR(t,e){return jo()?function a7(t,e){return function UR(t,e){return eI.apply(this,arguments)}(function jR(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{ec.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function $R(){return hh().enabled}function HR(){return iI.apply(this,arguments)}function iI(){return(iI=m(function*(){const t=hh();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const f7={error:"UNKNOWN_ERROR"};function p7(t){return ry.encodeString(JSON.stringify(t),!1)}function mh(t){return sI.apply(this,arguments)}function sI(){return(sI=m(function*(t,e=!1){const n=t.app;OR(n);const r=dt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&yh(u)&&(i=u)}if(!e&&i&&yh(i))return{token:i.token};let a,o=!1;if($R()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Xw(r7(n,yield HR()),t.platformLoggerProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield BR(n,u),or(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?ec.warn(u.message):ec.error(u),s=u}return i?(a={token:i.token},or(n,Object.assign(Object.assign({},r),{token:i})),yield BR(n,i)):a=m7(s),o&&qR(n,a),a})).apply(this,arguments)}function aI(t,e){const n=dt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),or(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function GR(t){const{app:e}=t,n=dt(e);let r=n.tokenRefresher;r||(r=function g7(t){const{app:e}=t;return new J5(m(function*(){let r;if(r=dt(e).token?yield mh(t,!0):yield mh(t),r.error)throw r.error}),()=>!0,()=>{const n=dt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),or(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function qR(t,e){const n=dt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function yh(t){return t.expireTimeMillis-Date.now()>0}function m7(t){return{token:p7(f7),error:t}}class y7{constructor(e,n){this.app=e,this.platformLoggerProvider=n}_delete(){const{tokenObservers:e}=dt(this.app);for(const n of e)aI(this.app,n.next);return Promise.resolve()}}const ZR="app-check-internal";!function M7(){un(new Xt("app-check",t=>function _7(t,e){return new y7(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(ZR).initialize()})),un(new Xt(ZR,t=>function v7(t){return{getToken:e=>mh(t,e),addTokenListener:e=>function oI(t,e,n,r){const{app:i}=t,s=dt(i),o={next:n,error:r,type:e};if(or(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&yh(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),GR(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>GR(t))}(t,"INTERNAL",e),removeTokenListener:e=>aI(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),je("@firebase/app-check","0.5.3")}();class tN{constructor(){return Y_("app-check")}}"undefined"!=typeof window&&window;var M,F7="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ei={},hI=hI||{},$=F7||self;function vh(){}function fI(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function tc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var pI="closure_uid_"+(1e9*Math.random()>>>0),U7=0;function V7(t,e,n){return t.call.apply(t.bind,arguments)}function j7(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function bt(t,e,n){return(bt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?V7:j7).apply(null,arguments)}function wh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ct(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function bi(){this.s=this.s,this.o=this.o}var $7={};bi.prototype.s=!1,bi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function L7(t){return Object.prototype.hasOwnProperty.call(t,pI)&&t[pI]||(t[pI]=++U7)}(this);delete $7[t]}},bi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},rN=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function iN(t){return Array.prototype.concat.apply([],arguments)}function gI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ih(t){return/^[\s\xa0]*$/.test(t)}var tn,sN=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function en(t,e){return-1!=t.indexOf(e)}function mI(t,e){return t<e?-1:t>e?1:0}e:{var oN=$.navigator;if(oN){var aN=oN.userAgent;if(aN){tn=aN;break e}}tn=""}function yI(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function uN(t){const e={};for(const n in t)e[n]=t[n];return e}var cN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lN(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<cN.length;s++)n=cN[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _I(t){return _I[" "](t),t}_I[" "]=vh;var Eh,t,q7=en(tn,"Opera"),Yo=en(tn,"Trident")||en(tn,"MSIE"),dN=en(tn,"Edge"),vI=dN||Yo,hN=en(tn,"Gecko")&&!(en(tn.toLowerCase(),"webkit")&&!en(tn,"Edge"))&&!(en(tn,"Trident")||en(tn,"MSIE"))&&!en(tn,"Edge"),z7=en(tn.toLowerCase(),"webkit")&&!en(tn,"Edge");function fN(){var t=$.document;return t?t.documentMode:void 0}e:{var wI="",II=(t=tn,hN?/rv:([^\);]+)(\)|;)/.exec(t):dN?/Edge\/([\d\.]+)/.exec(t):Yo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):z7?/WebKit\/(\S+)/.exec(t):q7?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(II&&(wI=II?II[1]:""),Yo){var EI=fN();if(null!=EI&&EI>parseFloat(wI)){Eh=String(EI);break e}}Eh=wI}var W7={};var Q7=$.document&&Yo&&(fN()||parseInt(Eh,10))||void 0,Y7=function(){if(!$.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$.addEventListener("test",vh,e),$.removeEventListener("test",vh,e)}catch(n){}return t}();function Vt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function nc(t,e){if(Vt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(hN){e:{try{_I(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:J7[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&nc.Z.h.call(this)}}Vt.prototype.h=function(){this.defaultPrevented=!0},Ct(nc,Vt);var J7={2:"touch",3:"pen",4:"mouse"};nc.prototype.h=function(){nc.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var rc="closure_listenable_"+(1e6*Math.random()|0),X7=0;function Z7(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++X7,this.ca=this.fa=!1}function Th(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Dh(t){this.src=t,this.g={},this.h=0}function DI(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=nN(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Th(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function bI(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Dh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=bI(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new Z7(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var CI="closure_lm_"+(1e6*Math.random()|0),SI={};function gN(t,e,n,r,i){if(r&&r.once)return yN(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)gN(t,e[s],n,r,i);return null}return n=MI(n),t&&t[rc]?t.N(e,n,tc(r)?!!r.capture:!!r,i):mN(t,e,n,!1,r,i)}function mN(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=tc(i)?!!i.capture:!!i,a=xI(t);if(a||(t[CI]=a=new Dh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function e9(){var e=t9;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Y7||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vN(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yN(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)yN(t,e[s],n,r,i);return null}return n=MI(n),t&&t[rc]?t.O(e,n,tc(r)?!!r.capture:!!r,i):mN(t,e,n,!0,r,i)}function _N(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)_N(t,e[s],n,r,i);else r=tc(r)?!!r.capture:!!r,n=MI(n),t&&t[rc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=bI(s=t.g[e],n,r,i))&&(Th(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=xI(t))&&(e=t.g[e.toString()],t=-1,e&&(t=bI(e,n,r,i)),(n=-1<t?e[t]:null)&&AI(n))}function AI(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[rc])DI(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xI(e))?(DI(n,t),0==n.h&&(n.src=null,e[CI]=null)):Th(t)}}}function vN(t){return t in SI?SI[t]:SI[t]="on"+t}function t9(t,e){if(t.ca)t=!0;else{e=new nc(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&AI(t),t=n.call(r,e)}return t}function xI(t){return(t=t[CI])instanceof Dh?t:null}var kI="__closure_events_fn_"+(1e9*Math.random()>>>0);function MI(t){return"function"==typeof t?t:(t[kI]||(t[kI]=function(e){return t.handleEvent(e)}),t[kI])}function ht(){bi.call(this),this.i=new Dh(this),this.P=this,this.I=null}function St(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Vt(e,t);else if(e instanceof Vt)e.target=e.target||t;else{var i=e;lN(e=new Vt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=bh(o,r,!0,e)&&i}if(i=bh(o=e.g=t,r,!0,e)&&i,i=bh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=bh(o=e.g=n[s],r,!1,e)&&i}function bh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&DI(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ct(ht,bi),ht.prototype[rc]=!0,ht.prototype.removeEventListener=function(t,e,n,r){_N(this,t,e,n,r)},ht.prototype.M=function(){if(ht.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Th(n[r]);delete t.g[e],t.h--}}this.I=null},ht.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},ht.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var RI=$.JSON.stringify;function n9(){var t=IN;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var PI,wN=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new i9,t=>t.reset());class i9{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function s9(t){$.setTimeout(()=>{throw t},0)}function NI(t,e){PI||function o9(){var t=$.Promise.resolve(void 0);PI=function(){t.then(a9)}}(),OI||(PI(),OI=!0),IN.add(t,e)}var OI=!1,IN=new class r9{constructor(){this.h=this.g=null}add(e,n){const r=wN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function a9(){for(var t;t=n9();){try{t.h.call(t.g)}catch(n){s9(n)}var e=wN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}OI=!1}function Ch(t,e){ht.call(this),this.h=t||1,this.g=e||$,this.j=bt(this.kb,this),this.l=Date.now()}function FI(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function LI(t,e,n){if("function"==typeof t)n&&(t=bt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=bt(t.handleEvent,t)}return 2147483647<Number(e)?-1:$.setTimeout(t,e||0)}function EN(t){t.g=LI(()=>{t.g=null,t.i&&(t.i=!1,EN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ct(Ch,ht),(M=Ch.prototype).da=!1,M.S=null,M.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),St(this,"tick"),this.da&&(FI(this),this.start()))}},M.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},M.M=function(){Ch.Z.M.call(this),FI(this),delete this.g};class u9 extends bi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:EN(this)}M(){super.M(),this.g&&($.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ic(t){bi.call(this),this.h=t,this.g={}}Ct(ic,bi);var TN=[];function DN(t,e,n,r){Array.isArray(n)||(n&&(TN[0]=n.toString()),n=TN);for(var i=0;i<n.length;i++){var s=gN(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function bN(t){yI(t.g,function(e,n){this.g.hasOwnProperty(n)&&AI(e)},t),t.g={}}function Sh(){this.g=!0}function Jo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function h9(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return RI(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ic.prototype.M=function(){ic.Z.M.call(this),bN(this)},ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sh.prototype.Aa=function(){this.g=!1},Sh.prototype.info=function(){};var fs={},CN=null;function Ah(){return CN=CN||new ht}function SN(t){Vt.call(this,fs.Ma,t)}function sc(t){const e=Ah();St(e,new SN(e,t))}function AN(t,e){Vt.call(this,fs.STAT_EVENT,t),this.stat=e}function nn(t){const e=Ah();St(e,new AN(e,t))}function xN(t,e){Vt.call(this,fs.Na,t),this.size=e}function oc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return $.setTimeout(function(){t()},e)}fs.Ma="serverreachability",Ct(SN,Vt),fs.STAT_EVENT="statevent",Ct(AN,Vt),fs.Na="timingevent",Ct(xN,Vt);var xh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},kN={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function UI(){}function RN(){}UI.prototype.h=null;var BI,ac={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function VI(){Vt.call(this,"d")}function jI(){Vt.call(this,"c")}function kh(){}function uc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new ic(this),this.P=f9,this.W=new Ch(t=vI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new NN}function NN(){this.i=null,this.g="",this.h=!1}Ct(VI,Vt),Ct(jI,Vt),Ct(kh,UI),kh.prototype.g=function(){return new XMLHttpRequest},kh.prototype.i=function(){return{}},BI=new kh;var f9=45e3,$I={},Mh={};function HI(t,e,n){t.K=1,t.v=Fh(ti(e)),t.s=n,t.U=!0,PN(t,null)}function PN(t,e){t.F=Date.now(),cc(t),t.A=ti(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),HN(n.h,"t",r),t.C=0,n=t.l.H,t.h=new NN,t.g=h1(t.l,n?e:null,!t.s),0<t.O&&(t.L=new u9(bt(t.Ia,t,t.g),t.O)),DN(t.V,t.g,"readystatechange",t.gb),e=t.H?uN(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),sc(1),function c9(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function ON(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function FN(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=p9(t,n),i==Mh){4==e&&(t.o=4,nn(14),r=!1),Jo(t.j,t.m,null,"[Incomplete Response]");break}if(i==$I){t.o=4,nn(15),Jo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Jo(t.j,t.m,i,null),GI(t,i)}ON(t)&&i!=Mh&&i!=$I&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,nn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),tE(e),e.L=!0,nn(11))):(Jo(t.j,t.m,n,"[Invalid Chunked Response]"),ps(t),lc(t))}function p9(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Mh:(n=Number(e.substring(n,r)),isNaN(n)?$I:(r+=1)+n>e.length?Mh:(e=e.substr(r,n),t.C=r+n,e))}function cc(t){t.Y=Date.now()+t.P,LN(t,t.P)}function LN(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=oc(bt(t.eb,t),e)}function Rh(t){t.B&&($.clearTimeout(t.B),t.B=null)}function lc(t){0==t.l.G||t.I||u1(t.l,t)}function ps(t){Rh(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,FI(t.W),bN(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function GI(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||WI(n.i,t)))if(n.I=t.N,!t.J&&WI(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=oc(bt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;$h(n),jh(n)}eE(n),nn(18)}if(1>=zN(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else ys(n,11)}else if((t.J||n.g==t)&&$h(n),!Ih(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(en(p,"spdy")||en(p,"quic")||en(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(KI(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Se(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=d1(r,r.H?r.la:null,r.W),o.J){WN(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Rh(a),cc(a)),r.g=o}else o1(r);0<n.l.length&&Bh(n)}else"stop"!=c[0]&&"close"!=c[0]||ys(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ys(n,7):XI(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}sc(4)}catch(c){}}function qI(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(fI(t)||"string"==typeof t)rN(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(fI(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function g9(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(fI(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Xo(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Xo)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function zI(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];gs(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)gs(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function gs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(M=uc.prototype).setTimeout=function(t){this.P=t},M.gb=function(t){t=t.target;const e=this.L;e&&3==ni(t)?e.l():this.Ia(t)},M.Ia=function(t){try{if(t==this.g)e:{const l=ni(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||vI||this.g&&(this.h.h||this.g.ga()||t1(this.g)))){this.I||4!=l||7==e||sc(8==e||0>=d?3:2),Rh(this);var n=this.g.ba();this.N=n;t:if(ON(this)){var r=t1(this.g);t="";var i=r.length,s=4==ni(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ps(this),lc(this);var o="";break t}this.h.i=new $.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function l9(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ih(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,nn(12),ps(this),lc(this);break e}Jo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,GI(this,n)}this.U?(FN(this,l,o),vI&&this.i&&3==l&&(DN(this.V,this.W,"tick",this.fb),this.W.start())):(Jo(this.j,this.m,o,null),GI(this,o)),4==l&&ps(this),this.i&&!this.I&&(4==l?u1(this.l,this):(this.i=!1,cc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,nn(12)):(this.o=0,nn(13)),ps(this),lc(this)}}}catch(l){}},M.fb=function(){if(this.g){var t=ni(this.g),e=this.g.ga();this.C<e.length&&(Rh(this),FN(this,t,e),this.i&&4!=t&&cc(this))}},M.cancel=function(){this.I=!0,ps(this)},M.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function d9(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(sc(3),nn(17)),ps(this),this.o=2,lc(this)):LN(this,this.Y-t)},(M=Xo.prototype).R=function(){zI(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},M.T=function(){return zI(this),this.g.concat()},M.get=function(t,e){return gs(this.h,t)?this.h[t]:e},M.set=function(t,e){gs(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},M.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var UN=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ms(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ms){this.g=void 0!==e?e:t.g,Nh(this,t.j),this.s=t.s,Ph(this,t.i),Oh(this,t.m),this.l=t.l,e=t.h;var n=new fc;n.i=e.i,e.g&&(n.g=new Xo(e.g),n.h=e.h),VN(this,n),this.o=t.o}else t&&(n=String(t).match(UN))?(this.g=!!e,Nh(this,n[1]||"",!0),this.s=dc(n[2]||""),Ph(this,n[3]||"",!0),Oh(this,n[4]),this.l=dc(n[5]||"",!0),VN(this,n[6]||"",!0),this.o=dc(n[7]||"")):(this.g=!!e,this.h=new fc(null,this.g))}function ti(t){return new ms(t)}function Nh(t,e,n){t.j=n?dc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ph(t,e,n){t.i=n?dc(e,!0):e}function Oh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function VN(t,e,n){e instanceof fc?(t.h=e,function D9(t,e){e&&!t.j&&(Ci(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(BN(this,r),HN(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=hc(e,E9)),t.h=new fc(e,t.g))}function Se(t,e,n){t.h.set(e,n)}function Fh(t){return Se(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function dc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,v9),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function v9(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ms.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hc(e,jN,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(hc(e,jN,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(hc(n,"/"==n.charAt(0)?I9:w9,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hc(n,T9)),t.join("")};var jN=/[#\/\?@]/g,w9=/[#\?:]/g,I9=/[#\?]/g,E9=/[#\?@]/g,T9=/#/g;function fc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ci(t){t.g||(t.g=new Xo,t.h=0,t.i&&function m9(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function BN(t,e){Ci(t),e=Zo(t,e),gs(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,gs((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&zI(t)))}function $N(t,e){return Ci(t),e=Zo(t,e),gs(t.g.h,e)}function HN(t,e,n){BN(t,e),0<n.length&&(t.i=null,t.g.set(Zo(t,e),gI(n)),t.h+=n.length)}function Zo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function GN(t){this.l=t||C9,t=$.PerformanceNavigationTiming?0<(t=$.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!($.g&&$.g.Ea&&$.g.Ea()&&$.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(M=fc.prototype).add=function(t,e){Ci(this),this.i=null,t=Zo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},M.forEach=function(t,e){Ci(this),this.g.forEach(function(n,r){rN(n,function(i){t.call(e,i,r,this)},this)},this)},M.T=function(){Ci(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},M.R=function(t){Ci(this);var e=[];if("string"==typeof t)$N(this,t)&&(e=iN(e,this.g.get(Zo(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=iN(e,t[n])}return e},M.set=function(t,e){return Ci(this),this.i=null,$N(this,t=Zo(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},M.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},M.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var C9=10;function qN(t){return!!t.h||!!t.g&&t.g.size>=t.j}function zN(t){return t.h?1:t.g?t.g.size:0}function WI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function KI(t,e){t.g?t.g.add(e):t.h=e}function WN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function KN(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return gI(t.i)}function QI(){}function S9(){this.g=new QI}function A9(t,e,n){const r=n||"";try{qI(t,function(i,s){let o=i;tc(i)&&(o=RI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function pc(t){this.l=t.$b||null,this.j=t.ib||!1}function Uh(t,e){ht.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=YI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}GN.prototype.cancel=function(){if(this.i=KN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},QI.prototype.stringify=function(t){return $.JSON.stringify(t,void 0)},QI.prototype.parse=function(t){return $.JSON.parse(t,void 0)},Ct(pc,UI),pc.prototype.g=function(){return new Uh(this.l,this.j)},pc.prototype.i=function(t){return function(){return t}}({}),Ct(Uh,ht);var YI=0;function QN(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function gc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,mc(t)}function mc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(M=Uh.prototype).open=function(t,e){if(this.readyState!=YI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,mc(this)},M.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||$).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gc(this)),this.readyState=YI},M.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,mc(this)),this.g&&(this.readyState=3,mc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==$.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;QN(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},M.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gc(this):mc(this),3==this.readyState&&QN(this)}},M.Ua=function(t){this.g&&(this.response=this.responseText=t,gc(this))},M.Ta=function(t){this.g&&(this.response=t,gc(this))},M.ha=function(){this.g&&gc(this)},M.setRequestHeader=function(t,e){this.v.append(t,e)},M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Uh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var k9=$.JSON.parse;function Qe(t){ht.call(this),this.headers=new Xo,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=YN,this.K=this.L=!1}Ct(Qe,ht);var YN="",M9=/^https?$/i,R9=["POST","PUT"];function P9(t){return"content-type"==t.toLowerCase()}function JN(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,XN(t),Vh(t)}function XN(t){t.D||(t.D=!0,St(t,"complete"),St(t,"error"))}function ZN(t){if(t.h&&void 0!==hI&&(!t.C[1]||4!=ni(t)||2!=t.ba()))if(t.v&&4==ni(t))LI(t.Fa,0,t);else if(St(t,"readystatechange"),4==ni(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(UN)[1]||null;if(!i&&$.self&&$.self.location){var s=$.self.location.protocol;i=s.substr(0,s.length-1)}r=!M9.test(i?i.toLowerCase():"")}n=r}if(n)St(t,"complete"),St(t,"success");else{t.m=6;try{var o=2<ni(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",XN(t)}}finally{Vh(t)}}}function Vh(t,e){if(t.g){e1(t);const n=t.g,r=t.C[0]?vh:null;t.g=null,t.C=null,e||St(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function e1(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&($.clearTimeout(t.A),t.A=null)}function ni(t){return t.g?t.g.readyState:0}function t1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case YN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function JI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function O9(t){let e="";return yI(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Se(t,e,n))}function yc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function n1(t){this.za=0,this.l=[],this.h=new Sh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=yc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=yc("baseRetryDelayMs",5e3,t),this.$a=yc("retryDelaySeedMs",1e4,t),this.Ya=yc("forwardChannelMaxRetries",2,t),this.ra=yc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new GN(t&&t.concurrentRequestLimit),this.Ca=new S9,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function XI(t){if(r1(t),3==t.G){var e=t.V++,n=ti(t.F);Se(n,"SID",t.J),Se(n,"RID",e),Se(n,"TYPE","terminate"),_c(t,n),(e=new uc(t,t.h,e,void 0)).K=2,e.v=Fh(ti(n)),n=!1,$.navigator&&$.navigator.sendBeacon&&(n=$.navigator.sendBeacon(e.v.toString(),"")),!n&&$.Image&&((new Image).src=e.v,n=!0),n||(e.g=h1(e.l,null),e.g.ea(e.v)),e.F=Date.now(),cc(e)}l1(t)}function jh(t){t.g&&(tE(t),t.g.cancel(),t.g=null)}function r1(t){jh(t),t.u&&($.clearTimeout(t.u),t.u=null),$h(t),t.i.cancel(),t.m&&("number"==typeof t.m&&$.clearTimeout(t.m),t.m=null)}function ZI(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Bh(t)}function Bh(t){qN(t.i)||t.m||(t.m=!0,NI(t.Ha,t),t.C=0)}function i1(t,e){var n;n=e?e.m:t.V++;const r=ti(t.F);Se(r,"SID",t.J),Se(r,"RID",n),Se(r,"AID",t.U),_c(t,r),t.o&&t.s&&JI(r,t.o,t.s),n=new uc(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=s1(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),KI(t.i,n),HI(n,r,e)}function _c(t,e){t.j&&qI({},function(n,r){Se(e,r,n)})}function s1(t,e,n){n=Math.min(t.l.length,n);var r=t.j?bt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{A9(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function o1(t){t.g||t.u||(t.Y=1,NI(t.Ga,t),t.A=0)}function eE(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=oc(bt(t.Ga,t),c1(t,t.A)),t.A++,0))}function tE(t){null!=t.B&&($.clearTimeout(t.B),t.B=null)}function a1(t){t.g=new uc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=ti(t.oa);Se(e,"RID","rpc"),Se(e,"SID",t.J),Se(e,"CI",t.N?"0":"1"),Se(e,"AID",t.U),_c(t,e),Se(e,"TYPE","xmlhttp"),t.o&&t.s&&JI(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Fh(ti(e)),n.s=null,n.U=!0,PN(n,t)}function $h(t){null!=t.v&&($.clearTimeout(t.v),t.v=null)}function u1(t,e){var n=null;if(t.g==e){$h(t),tE(t),t.g=null;var r=2}else{if(!WI(t.i,e))return;n=e.D,WN(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;St(r=Ah(),new xN(r,n,e,i)),Bh(t)}else o1(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function F9(t,e){return!(zN(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=oc(bt(t.Ha,t,e),c1(t,t.C)),t.C++,0)))}(t,e)||2==r&&eE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ys(t,5);break;case 4:ys(t,10);break;case 3:ys(t,6);break;default:ys(t,2)}}function c1(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function ys(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=bt(t.jb,t);n||(n=new ms("//www.google.com/images/cleardot.gif"),$.location&&"http"==$.location.protocol||Nh(n,"https"),Fh(n)),function x9(t,e){const n=new Sh;if($.Image){const r=new Image;r.onload=wh(Lh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=wh(Lh,n,r,"TestLoadImage: error",!1,e),r.onabort=wh(Lh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=wh(Lh,n,r,"TestLoadImage: timeout",!1,e),$.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else nn(2);t.G=0,t.j&&t.j.va(e),l1(t),r1(t)}function l1(t){t.G=0,t.I=-1,t.j&&((0!=KN(t.i).length||0!=t.l.length)&&(t.i.i.length=0,gI(t.l),t.l.length=0),t.j.ua())}function d1(t,e,n){let r=function y9(t){return t instanceof ms?ti(t):new ms(t,void 0)}(n);if(""!=r.i)e&&Ph(r,e+"."+r.i),Oh(r,r.m);else{const i=$.location;r=function _9(t,e,n,r){var i=new ms(null,void 0);return t&&Nh(i,t),e&&Ph(i,e),n&&Oh(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&yI(t.aa,function(i,s){Se(r,s,i)}),n=t.sa,(e=t.D)&&n&&Se(r,e,n),Se(r,"VER",t.ma),_c(t,r),r}function h1(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qe(n&&t.Ba&&!t.qa?new pc({ib:!0}):t.qa)).L=t.H,e}function f1(){}function Hh(){if(Yo&&!(10<=Number(Q7)))throw Error("Environmental error: no available transport.")}function bn(t,e){ht.call(this),this.g=new n1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ih(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ih(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ea(this)}function p1(t){VI.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function g1(){jI.call(this),this.status=1}function ea(t){this.g=t}(M=Qe.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():BI.g(),this.C=function MN(t){return t.h||(t.h=t.i())}(this.u?this.u:BI),this.g.onreadystatechange=bt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void JN(this,s)}t=n||"";const i=new Xo(this.headers);r&&qI(r,function(s,o){i.set(o,s)}),r=function H7(t){e:{var e=P9;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=$.FormData&&t instanceof $.FormData,!(0<=nN(R9,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{e1(this),0<this.B&&((this.K=function N9(t){return Yo&&function K7(){return function G7(t){var e=W7;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=sN(String(Eh)).split("."),n=sN("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=mI(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||mI(0==i[2].length,0==s[2].length)||mI(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bt(this.pa,this)):this.A=LI(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){JN(this,s)}},M.pa=function(){void 0!==hI&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,St(this,"timeout"),this.abort(8))},M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,St(this,"complete"),St(this,"abort"),Vh(this))},M.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vh(this,!0)),Qe.Z.M.call(this)},M.Fa=function(){this.s||(this.F||this.v||this.l?ZN(this):this.cb())},M.cb=function(){ZN(this)},M.ba=function(){try{return 2<ni(this)?this.g.status:-1}catch(t){return-1}},M.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},M.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),k9(e)}},M.Da=function(){return this.m},M.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(M=n1.prototype).ma=8,M.G=1,M.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},M.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new uc(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=uN(s),lN(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=s1(this,i,e),Se(n=ti(this.F),"RID",t),Se(n,"CVER",22),this.D&&Se(n,"X-HTTP-Session-Id",this.D),_c(this,n),this.o&&s&&JI(n,this.o,s),KI(this.i,i),this.Ra&&Se(n,"TYPE","init"),this.ja?(Se(n,"$req",e),Se(n,"SID","null"),i.$=!0,HI(i,n,null)):HI(i,n,e),this.G=2}}else 3==this.G&&(t?i1(this,t):0==this.l.length||qN(this.i)||i1(this))},M.Ga=function(){if(this.u=null,a1(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=oc(bt(this.bb,this),t)}},M.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,nn(10),jh(this),a1(this))},M.ab=function(){null!=this.v&&(this.v=null,jh(this),eE(this),nn(19))},M.jb=function(t){t?(this.h.info("Successfully pinged google.com"),nn(2)):(this.h.info("Failed to ping google.com"),nn(1))},(M=f1.prototype).xa=function(){},M.wa=function(){},M.va=function(){},M.ua=function(){},M.Oa=function(){},Hh.prototype.g=function(t,e){return new bn(t,e)},Ct(bn,ht),bn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),NI(bt(t.hb,t,e))),nn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=d1(t,null,t.W),Bh(t)},bn.prototype.close=function(){XI(this.g)},bn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,ZI(this.g,e)}else this.v?((e={}).__data__=RI(t),ZI(this.g,e)):ZI(this.g,t)},bn.prototype.M=function(){this.g.j=null,delete this.j,XI(this.g),delete this.g,bn.Z.M.call(this)},Ct(p1,VI),Ct(g1,jI),Ct(ea,f1),ea.prototype.xa=function(){St(this.g,"a")},ea.prototype.wa=function(t){St(this.g,new p1(t))},ea.prototype.va=function(t){St(this.g,new g1(t))},ea.prototype.ua=function(){St(this.g,"b")},Hh.prototype.createWebChannel=Hh.prototype.g,bn.prototype.send=bn.prototype.u,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,xh.NO_ERROR=0,xh.TIMEOUT=8,xh.HTTP_ERROR=6,kN.COMPLETE="complete",RN.EventType=ac,ac.OPEN="a",ac.CLOSE="b",ac.ERROR="c",ac.MESSAGE="d",ht.prototype.listen=ht.prototype.N,Qe.prototype.listenOnce=Qe.prototype.O,Qe.prototype.getLastError=Qe.prototype.La,Qe.prototype.getLastErrorCode=Qe.prototype.Da,Qe.prototype.getStatus=Qe.prototype.ba,Qe.prototype.getResponseJson=Qe.prototype.Qa,Qe.prototype.getResponseText=Qe.prototype.ga,Qe.prototype.send=Qe.prototype.ea;var L9=ei.createWebChannelTransport=function(){return new Hh},U9=ei.getStatEventTarget=function(){return Ah()},nE=ei.ErrorCode=xh,V9=ei.EventType=kN,j9=ei.Event=fs,m1=ei.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},B9=ei.FetchXmlHttpFactory=pc,Gh=ei.WebChannel=RN,$9=ei.XhrIo=Qe;const y1="@firebase/firestore";class At{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");let ta="9.6.7";const Si=new Bo("@firebase/firestore");function rE(){return Si.logLevel}function D(t,...e){if(Si.logLevel<=ae.DEBUG){const n=e.map(iE);Si.debug(`Firestore (${ta}): ${t}`,...n)}}function Ye(t,...e){if(Si.logLevel<=ae.ERROR){const n=e.map(iE);Si.error(`Firestore (${ta}): ${t}`,...n)}}function qh(t,...e){if(Si.logLevel<=ae.WARN){const n=e.map(iE);Si.warn(`Firestore (${ta}): ${t}`,...n)}}function iE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function N(t="Unexpected state"){const e=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: `+t;throw Ye(e),new Error(e)}function j(t,e){t||N()}function S(t,e){return t}const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ft{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class _1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class q9{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new ft;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ft,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ft)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new _1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new At(e)}}class z9{constructor(e,n,r){this.type="FirstParty",this.user=At.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class W9{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new z9(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K9{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{null!=s.error&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j("string"==typeof n.token),this.p=n.token,new v1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Cn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Q9(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}Cn.A=-1;function ne(t,e){return t<e?-1:t>e?1:0}function na(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new xt(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function E1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _s(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class vc{constructor(e,n,r){void 0===n?n=0:n>e.length&&N(),void 0===r?r=e.length-n:r>e.length-n&&N(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===vc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class de extends vc{construct(e,n,r){return new de(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new de(n)}static emptyPath(){return new de([])}}const Y9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends vc{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return Y9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}class st{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new st(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new st(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}st.EMPTY_BYTE_STRING=new st("");const J9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(t){if(j(!!t),"string"==typeof t){let e=0;const n=J9.exec(t);if(j(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function vs(t){return"string"==typeof t?st.fromBase64String(t):st.fromUint8Array(t)}function sE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function D1(t){const e=t.mapValue.fields.__previous_value__;return sE(e)?D1(e):e}function wc(t){const e=Ai(t.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}class X9{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class ia{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ia("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ia&&e.projectId===this.projectId&&e.database===this.database}}function ws(t){return null==t}function Ic(t){return 0===t&&1/t==-1/0}class k{constructor(e){this.path=e}static fromPath(e){return new k(de.fromString(e))}static fromName(e){return new k(de.fromString(e).popFirst(5))}static empty(){return new k(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===de.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new k(new de(e.slice()))}}const Z9={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sE(t)?4:10:N()}function ar(t,e){if(t===e)return!0;const n=Is(t);if(n!==Is(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wc(t).isEqual(wc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ai(r.timestampValue),o=Ai(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,vs(t.bytesValue).isEqual(vs(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Fe(r.geoPointValue.latitude)===Fe(i.geoPointValue.latitude)&&Fe(r.geoPointValue.longitude)===Fe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Fe(r.integerValue)===Fe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Fe(r.doubleValue),o=Fe(i.doubleValue);return s===o?Ic(s)===Ic(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return na(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(E1(s)!==E1(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ar(s[a],o[a])))return!1;return!0}(t,e);default:return N()}var i}function Ec(t,e){return void 0!==(t.values||[]).find(n=>ar(n,e))}function sa(t,e){if(t===e)return 0;const n=Is(t),r=Is(e);if(n!==r)return ne(n,r);switch(n){case 0:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Fe(i.integerValue||i.doubleValue),a=Fe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return C1(t.timestampValue,e.timestampValue);case 4:return C1(wc(t),wc(e));case 5:return ne(t.stringValue,e.stringValue);case 6:return function(i,s){const o=vs(i),a=vs(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=ne(o[u],a[u]);if(0!==c)return c}return ne(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ne(Fe(i.latitude),Fe(s.latitude));return 0!==o?o:ne(Fe(i.longitude),Fe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=sa(o[u],a[u]);if(c)return c}return ne(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ne(a[l],c[l]);if(0!==d)return d;const h=sa(o[a[l]],u[c[l]]);if(0!==h)return h}return ne(a.length,c.length)}(t.mapValue,e.mapValue);default:throw N()}}function C1(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ne(t,e);const n=Ai(t),r=Ai(e),i=ne(n.seconds,r.seconds);return 0!==i?i:ne(n.nanos,r.nanos)}function oa(t){return oE(t)}function oE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ai(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?vs(t.bytesValue).toBase64():"referenceValue"in t?k.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=oE(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${oE(r.fields[a])}`;return s+"}"}(t.mapValue):N();var e}function aE(t){return!!t&&"integerValue"in t}function Wh(t){return!!t&&"arrayValue"in t}function S1(t){return!!t&&"nullValue"in t}function A1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kh(t){return!!t&&"mapValue"in t}function Tc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _s(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tc(t.arrayValue.values[n]);return e}return Object.assign({},t)}class jt{constructor(e){this.value=e}static empty(){return new jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Tc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_s(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new jt(Tc(this.value))}}class Me{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Me(e,0,V.min(),V.min(),jt.empty(),0)}static newFoundDocument(e,n,r){return new Me(e,1,n,V.min(),r,0)}static newNoDocument(e,n){return new Me(e,2,n,V.min(),jt.empty(),0)}static newUnknownDocument(e,n){return new Me(e,3,n,V.min(),jt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Me&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Me(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eQ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function k1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new eQ(t,e,n,r,i,s,o)}function bc(t){const e=S(t);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+oa(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ws(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oa(r)).join(",")),e.P=n}return e.P}function Jh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!cQ(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!ar(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!N1(t.startAt,e.startAt)&&N1(t.endAt,e.endAt)}function Xh(t){return k.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class rn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.v(e,n,r):new nQ(e,n,r):"array-contains"===n?new sQ(e,r):"in"===n?new oQ(e,r):"not-in"===n?new aQ(e,r):"array-contains-any"===n?new uQ(e,r):new rn(e,n,r)}static v(e,n,r){return"in"===n?new rQ(e,r):new iQ(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.V(sa(n,this.value)):null!==n&&Is(this.value)===Is(n)&&this.V(sa(n,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return N()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class nQ extends rn{constructor(e,n,r){super(e,n,r),this.key=k.fromName(r.referenceValue)}matches(e){const n=k.comparator(e.key,this.key);return this.V(n)}}class rQ extends rn{constructor(e,n){super(e,"in",n),this.keys=M1(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iQ extends rn{constructor(e,n){super(e,"not-in",n),this.keys=M1(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function M1(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>k.fromName(r.referenceValue))}class sQ extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wh(n)&&Ec(n.arrayValue,this.value)}}class oQ extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ec(this.value.arrayValue,n)}}class aQ extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ec(this.value.arrayValue,n)}}class uQ extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ec(this.value.arrayValue,r))}}class aa{constructor(e,n){this.position=e,this.inclusive=n}}class ua{constructor(e,n="asc"){this.field=e,this.dir=n}}function cQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function R1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?k.comparator(k.fromName(o.referenceValue),n.key):sa(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function N1(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}class ri{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.D=null,this.C=null}}function ca(t){return new ri(t)}function Zh(t){return!ws(t.limit)&&"F"===t.limitType}function ef(t){return!ws(t.limit)&&"L"===t.limitType}function la(t){const e=S(t);if(null===e.D){e.D=[];const n=function lE(t){for(const e of t.filters)if(e.S())return e.field;return null}(e),r=function cE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.D.push(new ua(n)),e.D.push(new ua(kt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new ua(kt.keyField(),s))}}}return e.D}function $n(t){const e=S(t);if(!e.C)if("F"===e.limitType)e.C=k1(e.path,e.collectionGroup,la(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of la(e))n.push(new ua(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new aa(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new aa(e.startAt.position,!e.startAt.inclusive):null;e.C=k1(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function Cc(t,e){return Jh($n(t),$n(e))&&t.limitType===e.limitType}function F1(t){return`${bc($n(t))}|lt:${t.limitType}`}function hE(t){return`Query(target=${function tQ(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${oa(r.value)}`;var r}).join(", ")}]`),ws(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>oa(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>oa(n)).join(",")),`Target(${e})`}($n(t))}; limitType=${t.limitType})`}function fE(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):k.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=R1(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,la(n),r)||n.endAt&&!function(i,s,o){const a=R1(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,la(n),r)));var n,r}function L1(t){return(e,n)=>{let r=!1;for(const i of la(t)){const s=lQ(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function lQ(t,e,n){const r=t.field.isKeyField()?k.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?sa(a,u):N()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return N()}}class tf{constructor(){this._=void 0}}function dQ(t,e,n){return t instanceof da?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Es?$1(t,e):t instanceof Ts?H1(t,e):function(r,i){const s=function B1(t,e){return t instanceof ha?aE(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=G1(s)+G1(r.k);return aE(s)&&aE(r.k)?function V1(t){return{integerValue:""+t}}(o):function U1(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}(r.O,o)}(t,e)}function hQ(t,e,n){return t instanceof Es?$1(t,e):t instanceof Ts?H1(t,e):n}class da extends tf{}class Es extends tf{constructor(e){super(),this.elements=e}}function $1(t,e){const n=q1(e);for(const r of t.elements)n.some(i=>ar(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ts extends tf{constructor(e){super(),this.elements=e}}function H1(t,e){let n=q1(e);for(const r of t.elements)n=n.filter(i=>!ar(i,r));return{arrayValue:{values:n}}}class ha extends tf{constructor(e,n){super(),this.O=e,this.k=n}}function G1(t){return Fe(t.integerValue||t.doubleValue)}function q1(t){return Wh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class z1{}function gQ(t,e,n){t instanceof Ac?function(r,i,s){const o=r.value.clone(),a=Y1(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ds?function(r,i,s){if(!nf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Y1(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Q1(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function pE(t,e,n){var i;t instanceof Ac?function(r,i,s){if(!nf(r.precondition,i))return;const o=r.value.clone(),a=J1(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(K1(i),o).setHasLocalMutations()}(t,e,n):t instanceof Ds?function(r,i,s){if(!nf(r.precondition,i))return;const o=J1(r.fieldTransforms,s,i),a=i.data;a.setAll(Q1(r)),a.setAll(o),i.convertToFoundDocument(K1(i),a).setHasLocalMutations()}(t,e,n):nf(t.precondition,i=e)&&i.convertToNoDocument(V.min())}function W1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&na(n,r,(i,s)=>function fQ(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Es&&r instanceof Es||n instanceof Ts&&r instanceof Ts?na(n.elements,r.elements,ar):n instanceof ha&&r instanceof ha?ar(n.k,r.k):n instanceof da&&r instanceof da);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function K1(t){return t.isFoundDocument()?t.version:V.min()}class Ac extends z1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Ds extends z1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function Q1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Y1(t,e,n){const r=new Map;j(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,hQ(o,a,n[i]))}return r}function J1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,dQ(s,o,e))}return r}class yQ{constructor(e){this.count=e}}var Xe,ue;function Z1(t){if(void 0===t)return Ye("GRPC error has no .code"),v.UNKNOWN;switch(t){case Xe.OK:return v.OK;case Xe.CANCELLED:return v.CANCELLED;case Xe.UNKNOWN:return v.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return v.INTERNAL;case Xe.UNAVAILABLE:return v.UNAVAILABLE;case Xe.UNAUTHENTICATED:return v.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case Xe.NOT_FOUND:return v.NOT_FOUND;case Xe.ALREADY_EXISTS:return v.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return v.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case Xe.ABORTED:return v.ABORTED;case Xe.OUT_OF_RANGE:return v.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return v.UNIMPLEMENTED;case Xe.DATA_LOSS:return v.DATA_LOSS;default:return N()}}(ue=Xe||(Xe={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";class Be{constructor(e,n){this.comparator=e,this.root=n||Mt.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rf(this.root,e,this.comparator,!0)}}class rf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Mt.RED,this.left=null!=i?i:Mt.EMPTY,this.right=null!=s?s:Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Mt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Mt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw N();const e=this.left.check();if(e!==this.right.check())throw N();return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1,Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw N()}get value(){throw N()}get color(){throw N()}get left(){throw N()}get right(){throw N()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Mt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ae{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eP(this.data.getIterator())}getIteratorFrom(e){return new eP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ae)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ae(this.comparator);return n.data=e,n}}class eP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const _Q=new Be(k.comparator);function Hn(){return _Q}const vQ=new Be(k.comparator);function mE(){return vQ}new Be(k.comparator);const IQ=new Ae(k.comparator);function pe(...t){let e=IQ;for(const n of t)e=e.add(n);return e}const EQ=new Ae(ne);function sf(){return EQ}class kc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Mc.createSynthesizedTargetChangeForCurrentChange(e,n)),new kc(V.min(),r,sf(),Hn(),pe())}}class Mc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Mc(st.EMPTY_BYTE_STRING,n,pe(),pe(),pe())}}class of{constructor(e,n,r,i){this.M=e,this.removedTargetIds=n,this.key=r,this.$=i}}class tP{constructor(e,n){this.targetId=e,this.F=n}}class nP{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rP{constructor(){this.B=0,this.L=sP(),this.U=st.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=pe(),n=pe(),r=pe();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:N()}}),new Mc(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=sP()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class TQ{constructor(e){this.nt=e,this.st=new Map,this.it=Hn(),this.rt=iP(),this.ot=new Ae(ne)}ct(e){for(const n of e.M)e.$&&e.$.isFoundDocument()?this.ut(n,e.$):this.at(n,e.key,e.$);for(const n of e.removedTargetIds)this.at(n,e.key,e.$)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:N()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.F.count,i=this.wt(n);if(i){const s=i.target;if(Xh(s))if(0===r){const o=new k(s.path);this.at(n,o,Me.newNoDocument(o,V.min()))}else j(1===r);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&Xh(a.target)){const u=new k(a.target.path);null!==this.it.get(u)||this.It(o,u)||this.at(o,u,Me.newNoDocument(u,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=pe();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.wt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new kc(e,n,this.ot,this.it,r);return this.it=Hn(),this.rt=iP(),this.ot=new Ae(ne),i}ut(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Et(n.key).add(e))}at(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Et(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new rP,this.st.set(e,n)),n}Et(e){let n=this.rt.get(e);return n||(n=new Ae(ne),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||D("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new rP),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.at(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function iP(){return new Be(k.comparator)}function sP(){return new Be(k.comparator)}const DQ={asc:"ASCENDING",desc:"DESCENDING"},bQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class CQ{constructor(e,n){this.databaseId=e,this.N=n}}function pt(t){return j(!!t),V.fromTimestamp(function(e){const n=Ai(e);return new xt(n.seconds,n.nanos)}(t))}function aP(t){const e=de.fromString(t);return j(mP(e)),e}function br(t,e){const n=aP(e);if(n.get(1)!==t.databaseId.projectId)throw new T(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new k(cP(n))}function _E(t,e){return function yE(t,e){return(n=t,new de(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function Pc(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cP(t){return j(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function hP(t,e){return{documents:[_E(t,e.path)]}}function fP(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=_E(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_E(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const c=u.map(l=>function(d){if("=="===d.op){if(A1(d.value))return{unaryFilter:{field:pa(d.field),op:"IS_NAN"}};if(S1(d.value))return{unaryFilter:{field:pa(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(A1(d.value))return{unaryFilter:{field:pa(d.field),op:"IS_NOT_NAN"}};if(S1(d.value))return{unaryFilter:{field:pa(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pa(d.field),op:NQ(d.op),value:d.value}}}(l));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:pa((l=c).field),direction:RQ(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.N||ws(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function pP(t){let e=function uP(t){const e=aP(t);return 4===e.length?de.emptyPath():cP(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=gP(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new ua(ga((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,ws(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new aa((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new aa(l.values||[],!l.before)}(n.endAt)),function P1(t,e,n,r,i,s,o,a){return new ri(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function gP(t){return t?void 0!==t.unaryFilter?[OQ(t)]:void 0!==t.fieldFilter?[PQ(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>gP(e)).reduce((e,n)=>e.concat(n)):N():[]}function RQ(t){return DQ[t]}function NQ(t){return bQ[t]}function pa(t){return{fieldPath:t.canonicalString()}}function ga(t){return kt.fromServerFormat(t.fieldPath)}function PQ(t){return rn.create(ga(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return N()}}(t.fieldFilter.op),t.fieldFilter.value)}function OQ(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ga(t.unaryFilter.field);return rn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ga(t.unaryFilter.field);return rn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ga(t.unaryFilter.field);return rn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ga(t.unaryFilter.field);return rn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return N()}}function mP(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function gt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yP(e)),e=LQ(t.get(n),e);return yP(e)}function LQ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function yP(t){return t+"\x01\x01"}class Sn{constructor(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}}Sn.store="owner",Sn.key="owner";class xi{constructor(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}}xi.store="mutationQueues",xi.keyPath="userId";class De{constructor(e,n,r,i,s){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}De.store="mutations",De.keyPath="batchId",De.userMutationsIndex="userMutationsIndex",De.userMutationsKeyPath=["userId","batchId"];class Bt{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,n){return[e,gt(n)]}static key(e,n,r){return[e,gt(n),r]}}Bt.store="documentMutations",Bt.PLACEHOLDER=new Bt;class Le{constructor(e,n,r,i,s,o){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}Le.store="remoteDocuments",Le.readTimeIndex="readTimeIndex",Le.readTimeIndexPath="readTime",Le.collectionReadTimeIndex="collectionReadTimeIndex",Le.collectionReadTimeIndexPath=["parentPath","readTime"];class Sr{constructor(e){this.byteSize=e}}Sr.store="remoteDocumentGlobal",Sr.key="remoteDocumentGlobalKey";class fn{constructor(e,n,r,i,s,o,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}fn.store="targets",fn.keyPath="targetId",fn.queryTargetsIndexName="queryTargetsIndex",fn.queryTargetsKeyPath=["canonicalId","targetId"];class Rt{constructor(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r}}Rt.store="targetDocuments",Rt.keyPath=["targetId","path"],Rt.documentTargetsIndex="documentTargetsIndex",Rt.documentTargetsKeyPath=["path","targetId"];class An{constructor(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}An.key="targetGlobalKey",An.store="targetGlobal";class bs{constructor(e,n){this.collectionId=e,this.parent=n}}bs.store="collectionParents",bs.keyPath=["collectionId","parent"];class ii{constructor(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}}ii.store="clientMetadata",ii.keyPath="clientId";class ma{constructor(e,n,r){this.bundleId=e,this.createTime=n,this.version=r}}ma.store="bundles",ma.keyPath="bundleId";class ya{constructor(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r}}ya.store="namedQueries",ya.keyPath="name";class xn{constructor(e,n,r){this.indexId=e,this.collectionGroup=n,this.fields=r}}xn.store="indexConfiguration",xn.keyPath="indexId",xn.collectionGroupIndex="collectionGroupIndex",xn.collectionGroupIndexPath="collectionGroup";class Gn{constructor(e,n,r,i,s,o){this.indexId=e,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=s,this.largestBatchId=o}}Gn.store="indexState",Gn.keyPath=["indexId","uid"],Gn.sequenceNumberIndex="sequenceNumberIndex",Gn.sequenceNumberIndexPath=["uid","sequenceNumber"];class qn{constructor(e,n,r,i,s){this.indexId=e,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=s}}qn.store="indexEntries",qn.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],qn.documentKeyIndex="documentKeyIndex",qn.documentKeyIndexPath=["indexId","uid","documentKey"];class mt{constructor(e,n,r,i,s,o){this.userId=e,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=s,this.overlayMutation=o}}mt.store="documentOverlays",mt.keyPath=["userId","collectionPath","documentId"],mt.collectionPathOverlayIndex="collectionPathOverlayIndex",mt.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],mt.collectionGroupOverlayIndex="collectionGroupOverlayIndex",mt.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const wP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&N(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Cs(t){return"IndexedDbTransactionError"===t.name}class IE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gQ(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&pE(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&pE(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(V.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(n,r)=>W1(n,r))&&na(this.baseMutations,e.baseMutations,(n,r)=>W1(n,r))}}class TE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ki{constructor(e,n,r,i,s=V.min(),o=V.min(),a=st.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class TP{constructor(e){this.Ht=e}}function CE(t){const e=pP({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function O1(t,e,n){return new ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class uf{constructor(){}Xt(e,n){this.Zt(e,n),n.te()}Zt(e,n){if("nullValue"in e)this.ee(n,5);else if("booleanValue"in e)this.ee(n,10),n.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(n,15),n.ne(Fe(e.integerValue));else if("doubleValue"in e){const r=Fe(e.doubleValue);isNaN(r)?this.ee(n,13):(this.ee(n,15),Ic(r)?n.ne(0):n.ne(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ee(n,20),"string"==typeof r?n.se(r):(n.se(`${r.seconds||""}`),n.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,n),this.re(n);else if("bytesValue"in e)this.ee(n,30),n.oe(vs(e.bytesValue)),this.re(n);else if("referenceValue"in e)this.ce(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ee(n,45),n.ne(r.latitude||0),n.ne(r.longitude||0)}else"mapValue"in e?ar(e,Z9)?this.ee(n,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,n),this.re(n)):"arrayValue"in e?(this.ae(e.arrayValue,n),this.re(n)):N()}ie(e,n){this.ee(n,25),this.he(e,n)}he(e,n){n.se(e)}ue(e,n){const r=e.fields||{};this.ee(n,55);for(const i of Object.keys(r))this.ie(i,n),this.Zt(r[i],n)}ae(e,n){const r=e.values||[];this.ee(n,50);for(const i of r)this.Zt(i,n)}ce(e,n){this.ee(n,37),k.fromName(e).path.forEach(r=>{this.ee(n,60),this.he(r,n)})}ee(e,n){e.ne(n)}re(e){e.ne(2)}}uf.le=new uf;class YQ{constructor(){this.xe=new ME}addToCollectionParentIndex(e,n){return this.xe.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.xe.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n,r){return w.resolve(pe())}getFieldIndex(e,n){return w.resolve(null)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class ME{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ae(de.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ae(de.comparator)).toArray()}}class pn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class ks{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new ks(0)}static Je(){return new ks(-1)}}function Ms(t){return NE.apply(this,arguments)}function NE(){return NE=m(function*(t){if(t.code!==v.FAILED_PRECONDITION||t.message!==wP)throw t;D("LocalStore","Unexpectedly lost primary lease")}),NE.apply(this,arguments)}class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){_s(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function T1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}}class uY{constructor(e,n,r){this.qn=e,this.gs=n,this.indexManager=r}ys(e,n){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.ps(e,n,r))}ps(e,n,r){return this.qn.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}Is(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Es(e,n){return this.qn.getEntries(e,n).next(r=>this.Ts(e,r).next(()=>r))}Ts(e,n){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.Is(n,r))}As(e,n,r){return k.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.Rs(e,n.path):function dE(t){return null!==t.collectionGroup}(n)?this.Ps(e,n,r):this.bs(e,n,r);var i}Rs(e,n){return this.ys(e,new k(n)).next(r=>{let i=mE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ps(e,n,r){const i=n.collectionGroup;let s=mE();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new ri(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.bs(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}bs(e,n,r){let i;return this.qn.getAll(e,n.path,r).next(s=>(i=s,this.gs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const u=a.key;let c=i.get(u);null==c&&(c=Me.newInvalidDocument(u),i=i.insert(u,c)),pE(a,c,o.localWriteTime),c.isFoundDocument()||(i=i.remove(u))}}).next(()=>(i.forEach((s,o)=>{fE(n,o)||(i=i.remove(s))}),i))}}class LE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.vs=r,this.Vs=i}static Ss(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new LE(e,n.fromCache,r,i)}}class $P{Ds(e){this.Cs=e}As(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(V.min())?this.Ns(e,n):this.Cs.Es(e,i).next(s=>{const o=this.xs(n,s);return(Zh(n)||ef(n))&&this.ks(n.limitType,o,i,r)?this.Ns(e,n):(rE()<=ae.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hE(n)),this.Cs.As(e,n,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}xs(e,n){let r=new Ae(L1(e));return n.forEach((i,s)=>{fE(e,s)&&(r=r.add(s))}),r}ks(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ns(e,n){return rE()<=ae.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",hE(n)),this.Cs.As(e,n,V.min())}}class cY{constructor(e,n,r,i){this.persistence=e,this.Os=n,this.O=i,this.Ms=new Be(ne),this.$s=new Ia(s=>bc(s),Jh),this.Fs=V.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(r)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new uY(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function GP(t,e){return UE.apply(this,arguments)}function UE(){return UE=m(function*(t,e){const n=S(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.gs.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.gs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=pe();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.Us.Es(r,u).next(c=>({qs:c,removedBatchIds:o,addedBatchIds:a}))})})}),UE.apply(this,arguments)}function qP(t){const e=S(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Un.getLastRemoteSnapshotVersion(n))}function dY(t,e){const n=S(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.Un.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.Un.addMatchingKeys(s,c.addedDocuments,l)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,g;e.targetMismatches.has(l)?h=h.withResumeToken(st.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(l,h),p=h,g=c,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(n.Un.updateTargetData(s,h))});let u=Hn();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function zP(t,e,n){let r=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Hn();return n.forEach((o,a)=>{const u=i.get(o);a.isNoDocument()&&a.version.isEqual(V.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):D("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",a.version)}),s})}(s,o,e.documentUpdates).next(c=>{u=c})),!r.isEqual(V.min())){const c=n.Un.getLastRemoteSnapshotVersion(s).next(l=>n.Un.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.Us.Ts(s,u)).next(()=>u)}).then(s=>(n.Ms=i,s))}function Ea(t,e){const n=S(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Un.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Un.allocateTargetId(r).next(o=>(i=new ki(e,o,0,r.currentSequenceNumber),n.Un.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.$s.set(e,r.targetId)),r})}function Ta(t,e,n){return VE.apply(this,arguments)}function VE(){return VE=m(function*(t,e,n){const r=S(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Cs(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.$s.delete(i.target)}),VE.apply(this,arguments)}function mf(t,e,n){const r=S(t);let i=V.min(),s=pe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=S(a),d=l.$s.get(c);return void 0!==d?w.resolve(l.Ms.get(d)):l.Un.getTargetData(u,c)}(r,o,$n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Os.As(o,e,n?i:V.min(),n?s:pe())).next(a=>({documents:a,Ks:s})))}class mY{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,n){return w.resolve(this.Ws.get(n))}saveBundleMetadata(e,n){var r;return this.Ws.set(n.id,{id:(r=n).id,version:r.version,createTime:pt(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.zs.get(n))}saveNamedQuery(e,n){return this.zs.set(n.name,{name:(r=n).name,query:CE(r.bundledQuery),readTime:pt(r.readTime)}),w.resolve();var r}}class yY{constructor(){this.overlays=new Be(k.comparator),this.Hs=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach(i=>{this.Yt(e,n,i)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Hs.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Hs.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=new Map,s=n.length+1,o=new k(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Be((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=new Map,s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=new Map,u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(l,c)),!(a.size>=i)););return w.resolve(a)}Yt(e,n,r){if(null===r)return;const i=this.overlays.get(r.key);null!==i&&this.Hs.get(i.largestBatchId).delete(r.key),this.overlays=this.overlays.insert(r.key,new TE(n,r));let s=this.Hs.get(n);void 0===s&&(s=new Set,this.Hs.set(n,s)),s.add(r.key)}}class HE{constructor(){this.Js=new Ae(_t.Ys),this.Xs=new Ae(_t.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,n){const r=new _t(e,n);this.Js=this.Js.add(r),this.Xs=this.Xs.add(r)}ti(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ei(new _t(e,n))}ni(e,n){e.forEach(r=>this.removeReference(r,n))}si(e){const n=new k(new de([])),r=new _t(n,e),i=new _t(n,e+1),s=[];return this.Xs.forEachInRange([r,i],o=>{this.ei(o),s.push(o.key)}),s}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const n=new k(new de([])),r=new _t(n,e),i=new _t(n,e+1);let s=pe();return this.Xs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _t(e,0),r=this.Js.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.oi=n}static Ys(e,n){return k.comparator(e.key,n.key)||ne(e.oi,n.oi)}static Zs(e,n){return ne(e.oi,n.oi)||k.comparator(e.key,n.key)}}class _Y{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new Ae(_t.Ys)}checkEmpty(e){return w.resolve(0===this.gs.length)}addMutationBatch(e,n,r,i){const s=this.ci;this.ci++;const o=new IE(s,n,r,i);this.gs.push(o);for(const a of i)this.ui=this.ui.add(new _t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.ai(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.hi(n+1),s=i<0?0:i;return w.resolve(this.gs.length>s?this.gs[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return w.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.ui.forEachInRange([r,i],o=>{const a=this.ai(o.oi);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ae(ne);return n.forEach(i=>{const s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.ui.forEachInRange([s,o],a=>{r=r.add(a.oi)})}),w.resolve(this.li(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;k.isDocumentKey(s)||(s=s.child(""));const o=new _t(new k(s),0);let a=new Ae(ne);return this.ui.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.oi)),!0)},o),w.resolve(this.li(a))}li(e){const n=[];return e.forEach(r=>{const i=this.ai(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){j(0===this.fi(n.batchId,"removed")),this.gs.shift();let r=this.ui;return w.forEach(n.mutations,i=>{const s=new _t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ui=r})}Qe(e){}containsKey(e,n){const r=new _t(n,0),i=this.ui.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}fi(e,n){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const n=this.hi(e);return n<0||n>=this.gs.length?null:this.gs[n]}}class vY{constructor(e){this.di=e,this.docs=new Be(k.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.di(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Me.newInvalidDocument(n))}getEntries(e,n){let r=Hn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Me.newInvalidDocument(i))}),w.resolve(r)}getAll(e,n,r){let i=Hn();const s=new k(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||u.readTime.compareTo(r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}_i(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wY(this)}getSize(e){return w.resolve(this.size)}}class wY extends class rY{constructor(){this.changes=new Ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Me.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Tn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Tn.addEntry(e,i)):this.Tn.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.Tn.getEntry(e,n)}getAllFromCache(e,n){return this.Tn.getEntries(e,n)}}class IY{constructor(e){this.persistence=e,this.wi=new Ia(n=>bc(n),Jh),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.mi=0,this.gi=new HE,this.targetCount=0,this.yi=ks.He()}forEachTarget(e,n){return this.wi.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.mi&&(this.mi=n),w.resolve()}Ze(e){this.wi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.yi=new ks(n),this.highestTargetId=n),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,n){return this.Ze(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Ze(n),w.resolve()}removeTargetData(e,n){return this.wi.delete(n.target),this.gi.si(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.wi.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.wi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.wi.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.gi.ti(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.gi.ni(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.gi.si(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.gi.ri(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.gi.containsKey(n))}}class EY{constructor(e,n){this.pi={},this.overlays={},this.Nn=new Cn(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new IY(this),this.indexManager=new YQ,this.qn=new vY(r=>this.referenceDelegate.Ii(r)),this.O=new TP(n),this.Kn=new mY(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.pi[e.toKey()];return r||(r=new _Y(n,this.referenceDelegate),this.pi[e.toKey()]=r),r}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const i=new TY(this.Nn.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.Ti(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return w.or(Object.values(this.pi).map(r=>()=>r.containsKey(e,n)))}}class TY extends class $Q{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class GE{constructor(e){this.persistence=e,this.Ri=new HE,this.Pi=null}static bi(e){return new GE(e)}get vi(){if(this.Pi)return this.Pi;throw N()}addReference(e,n,r){return this.Ri.addReference(r,n),this.vi.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.vi.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.vi.add(n.toString()),w.resolve()}removeTarget(e,n){this.Ri.si(n.targetId).forEach(i=>this.vi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.vi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Pi=new Set}Ti(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.vi,r=>{const i=k.fromPath(r);return this.Vi(e,i).next(s=>{s||n.removeEntry(i,V.min())})}).next(()=>(this.Pi=null,n.apply(e)))}updateLimboDocument(e,n){return this.Vi(e,n).next(r=>{r?this.vi.delete(n.toString()):this.vi.add(n.toString())})}Ii(e){return 0}Vi(e,n){return w.or([()=>w.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class WE{constructor(){this.activeTargetIds=sf()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JP{constructor(){this._r=new WE,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,n,r){this.wr[e]=n}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new WE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class DY{mr(e){}shutdown(){}}class XP{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const bY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class CY{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class SY extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,n,r,i,s){const o=this.$r(e,n);D("RestConnection","Sending: ",o,r);const a={};return this.Fr(a,i,s),this.Br(e,o,a,r).then(u=>(D("RestConnection","Received: ",u),u),u=>{throw qh("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}Lr(e,n,r,i,s){return this.Mr(e,n,r,i,s)}Fr(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ta,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$r(e,n){return`${this.kr}/v1/${n}:${bY[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,n,r,i){return new Promise((s,o)=>{const a=new $9;a.listenOnce(V9.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case nE.NO_ERROR:const c=a.getResponseJson();D("Connection","XHR received:",JSON.stringify(c)),s(c);break;case nE.TIMEOUT:D("Connection",'RPC "'+e+'" timed out'),o(new T(v.DEADLINE_EXCEEDED,"Request time out"));break;case nE.HTTP_ERROR:const l=a.getStatus();if(D("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(p)>=0?p:v.UNKNOWN}(d.status);o(new T(h,d.message))}else o(new T(v.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new T(v.UNAVAILABLE,"Connection failed."));break;default:N()}}finally{D("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}Ur(e,n,r){const i=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=L9(),o=U9(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new B9({})),this.Fr(a.initMessageHeaders,n,r),Ck()||Sk()||function OW(){return Tn().indexOf("Electron/")>=0}()||function FW(){const t=Tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||function LW(){return Tn().indexOf("MSAppHost/")>=0}()||Ud()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");D("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new CY({Ar:p=>{d?D("Connection","Not sending because WebChannel is closed:",p):(l||(D("Connection","Opening WebChannel transport."),c.open(),l=!0),D("Connection","WebChannel sending:",p),c.send(p))},Rr:()=>c.close()}),f=(p,g,y)=>{p.listen(g,I=>{try{y(I)}catch(_){setTimeout(()=>{throw _},0)}})};return f(c,Gh.EventType.OPEN,()=>{d||D("Connection","WebChannel transport opened.")}),f(c,Gh.EventType.CLOSE,()=>{d||(d=!0,D("Connection","WebChannel transport closed"),h.Cr())}),f(c,Gh.EventType.ERROR,p=>{d||(d=!0,qh("Connection","WebChannel transport errored:",p),h.Cr(new T(v.UNAVAILABLE,"The operation could not be completed")))}),f(c,Gh.EventType.MESSAGE,p=>{var g;if(!d){const y=p.data[0];j(!!y);const I=y,_=I.error||(null===(g=I[0])||void 0===g?void 0:g.error);if(_){D("Connection","WebChannel received error:",_);const C=_.status;let P=function(at){const Mn=Xe[at];if(void 0!==Mn)return Z1(Mn)}(C),z=_.message;void 0===P&&(P=v.INTERNAL,z="Unknown error status: "+C+" with message "+_.message),d=!0,h.Cr(new T(P,z)),c.close()}else D("Connection","WebChannel received:",y),h.Nr(y)}}),f(o,j9.STAT_EVENT,p=>{p.stat===m1.PROXY?D("Connection","Detected buffering proxy"):p.stat===m1.NOPROXY&&D("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Dr()},0),h}}function vf(){return"undefined"!=typeof document?document:null}function Bc(t){return new CQ(t,!0)}class QE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Sn=e,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=s,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.jr} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class xY extends class AY{constructor(e,n,r,i,s,o,a,u){this.Sn=e,this.Xr=r,this.Zr=i,this.eo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new QE(e,n)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return m(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return m(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,n){var r=this;return m(function*(){r._o(),r.wo(),r.ro.cancel(),r.no++,4!==e?r.ro.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(Ye(n.toString()),Ye("Using maximum backoff delay to prevent overloading the backend."),r.ro.zr()):n&&n.code===v.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.mo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.vr(n)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.no===n&&this.po(r,i)},r=>{e(()=>{const i=new T(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Io(i)})})}po(e,n){const r=this.yo(this.no);this.stream=this.Eo(e,n),this.stream.Pr(()=>{r(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(i=>{r(()=>this.Io(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}uo(){var e=this;this.state=5,this.ro.Hr(m(function*(){e.state=0,e.start()}))}Io(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return n=>{this.Sn.enqueueAndForget(()=>this.no===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.O=s}Eo(e,n){return this.eo.Ur("Listen",e,n)}onMessage(e){this.ro.reset();const n=function xQ(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:N(),i=e.targetChange.targetIds||[],s=function(u,c){return u.N?(j(void 0===c||"string"==typeof c),st.fromBase64String(c||"")):(j(void 0===c||c instanceof Uint8Array),st.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?v.UNKNOWN:Z1(u.code);return new T(c,u.message||"")}(o);n=new nP(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=br(t,r.document.name),s=pt(r.document.updateTime),o=new jt({mapValue:{fields:r.document.fields}}),a=Me.newFoundDocument(i,s,o);n=new of(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=br(t,r.document),s=r.readTime?pt(r.readTime):V.min(),o=Me.newNoDocument(i,s);n=new of([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=br(t,r.document);n=new of([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return N();{const r=e.filter,s=new yQ(r.count||0);n=new tP(r.targetId,s)}}var u;return n}(this.O,e),r=function(i){if(!("targetChange"in i))return V.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?V.min():s.readTime?pt(s.readTime):V.min()}(e);return this.listener.To(n,r)}Ao(e){const n={};n.database=Pc(this.O),n.addTarget=function(i,s){let o;const a=s.target;return o=Xh(a)?{documents:hP(i,a)}:{query:fP(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=function oP(t,e){return t.N?e.toBase64():e.toUint8Array()}(i,s.resumeToken):s.snapshotVersion.compareTo(V.min())>0&&(o.readTime=function Rc(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp())),o}(this.O,e);const r=function MQ(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return N()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.fo(n)}Ro(e){const n={};n.database=Pc(this.O),n.removeTarget=e,this.fo(n)}}class MY extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.eo=r,this.O=i,this.Co=!1}No(){if(this.Co)throw new T(v.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,n,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.eo.Mr(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(v.UNKNOWN,i.toString())})}Lr(e,n,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.eo.Lr(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(v.UNKNOWN,i.toString())})}terminate(){this.Co=!0}}class RY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(Ye(n),this.Oo=!1):D("OnlineStateTracker",n)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class NY{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=s,this.jo.mr(a=>{r.enqueueAndForget(m(function*(){var u;Pi(o)&&(D("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=S(c);l.Ko.add(4),yield Da(l),l.Qo.set("Unknown"),l.Ko.delete(4),yield $c(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.Qo=new RY(r,i)}}function $c(t){return YE.apply(this,arguments)}function YE(){return YE=m(function*(t){if(Pi(t))for(const e of t.Go)yield e(!0)}),YE.apply(this,arguments)}function Da(t){return JE.apply(this,arguments)}function JE(){return JE=m(function*(t){for(const e of t.Go)yield e(!1)}),JE.apply(this,arguments)}function wf(t,e){const n=S(t);n.qo.has(e.targetId)||(n.qo.set(e.targetId,e),eT(n)?ZE(n):Ca(n).co()&&XE(n,e))}function Hc(t,e){const n=S(t),r=Ca(n);n.qo.delete(e),r.co()&&eO(n,e),0===n.qo.size&&(r.co()?r.ho():Pi(n)&&n.Qo.set("Unknown"))}function XE(t,e){t.Wo.Z(e.targetId),Ca(t).Ao(e)}function eO(t,e){t.Wo.Z(e),Ca(t).Ro(e)}function ZE(t){t.Wo=new TQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.qo.get(e)||null}),Ca(t).start(),t.Qo.Mo()}function eT(t){return Pi(t)&&!Ca(t).oo()&&t.qo.size>0}function Pi(t){return 0===S(t).Ko.size}function tO(t){t.Wo=void 0}function PY(t){return tT.apply(this,arguments)}function tT(){return tT=m(function*(t){t.qo.forEach((e,n)=>{XE(t,e)})}),tT.apply(this,arguments)}function OY(t,e){return nT.apply(this,arguments)}function nT(){return nT=m(function*(t,e){tO(t),eT(t)?(t.Qo.Bo(e),ZE(t)):t.Qo.set("Unknown")}),nT.apply(this,arguments)}function FY(t,e,n){return rT.apply(this,arguments)}function rT(){return rT=m(function*(t,e,n){if(t.Qo.set("Online"),e instanceof nP&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.qo.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.qo.delete(a),i.Wo.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield If(t,r)}else if(e instanceof of?t.Wo.ct(e):e instanceof tP?t.Wo._t(e):t.Wo.ht(e),!n.isEqual(V.min()))try{const r=yield qP(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Wo.yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.qo.get(u);c&&i.qo.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.qo.get(a);if(!u)return;i.qo.set(a,u.withResumeToken(st.EMPTY_BYTE_STRING,u.snapshotVersion)),eO(i,a);const c=new ki(u.target,a,1,u.sequenceNumber);XE(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){D("RemoteStore","Failed to raise snapshot:",r),yield If(t,r)}var r}),rT.apply(this,arguments)}function If(t,e,n){return iT.apply(this,arguments)}function iT(){return iT=m(function*(t,e,n){if(!Cs(e))throw e;t.Ko.add(1),yield Da(t),t.Qo.set("Offline"),n||(n=()=>qP(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){D("RemoteStore","Retrying IndexedDB access"),yield n(),t.Ko.delete(1),yield $c(t)}))}),iT.apply(this,arguments)}function sO(t,e){return lT.apply(this,arguments)}function lT(){return lT=m(function*(t,e){const n=S(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=Pi(n);n.Ko.add(3),yield Da(n),r&&n.Qo.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ko.delete(3),yield $c(n)}),lT.apply(this,arguments)}function hT(){return hT=m(function*(t,e){const n=S(t);e?(n.Ko.delete(2),yield $c(n)):e||(n.Ko.add(2),yield Da(n),n.Qo.set("Unknown"))}),hT.apply(this,arguments)}function Ca(t){return t.zo||(t.zo=function(e,n,r){const i=S(e);return i.No(),new xY(n,i.eo,i.authCredentials,i.appCheckCredentials,i.O,r)}(t.datastore,t.asyncQueue,{Pr:PY.bind(null,t),vr:OY.bind(null,t),To:FY.bind(null,t)}),t.Go.push(function(){var e=m(function*(n){n?(t.zo.ao(),eT(t)?ZE(t):t.Qo.set("Unknown")):(yield t.zo.stop(),tO(t))});return function(n){return e.apply(this,arguments)}}())),t.zo}class fT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new fT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sa(t,e){if(Ye("AsyncQueue",`${e}: ${t}`),Cs(t))return new T(v.UNAVAILABLE,`${e}: ${t}`);throw t}class Aa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||k.comparator(n.key,r.key):(n,r)=>k.comparator(n.key,r.key),this.keyedMap=mE(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new Aa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Aa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Aa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class oO{constructor(){this.Jo=new Be(k.comparator)}track(e){const n=e.doc.key,r=this.Jo.get(n);r?0!==e.type&&3===r.type?this.Jo=this.Jo.insert(n,e):3===e.type&&1!==r.type?this.Jo=this.Jo.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jo=this.Jo.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jo=this.Jo.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jo=this.Jo.remove(n):1===e.type&&2===r.type?this.Jo=this.Jo.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jo=this.Jo.insert(n,{type:2,doc:e.doc}):N():this.Jo=this.Jo.insert(n,e)}Yo(){const e=[];return this.Jo.inorderTraversal((n,r)=>{e.push(r)}),e}}class xa{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new xa(e,n,Aa.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class HY{constructor(){this.Xo=void 0,this.listeners=[]}}class GY{constructor(){this.queries=new Ia(e=>F1(e),Cc),this.onlineState="Unknown",this.Zo=new Set}}function gT(){return gT=m(function*(t,e){const n=S(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new HY),i)try{s.Xo=yield n.onListen(r)}catch(o){const a=Sa(o,`Initialization of query '${hE(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.tc(n.onlineState),s.Xo&&e.ec(s.Xo)&&_T(n)}),gT.apply(this,arguments)}function yT(){return yT=m(function*(t,e){const n=S(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),yT.apply(this,arguments)}function qY(t,e){const n=S(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.ec(i)&&(r=!0);o.Xo=i}}r&&_T(n)}function zY(t,e,n){const r=S(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function _T(t){t.Zo.forEach(e=>{e.next()})}class vT{constructor(e,n,r){this.query=e,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}ec(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.sc?this.rc(e)&&(this.nc.next(e),n=!0):this.oc(e,this.onlineState)&&(this.cc(e),n=!0),this.ic=e,n}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let n=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),n=!0),n}oc(e,n){return!e.fromCache||!(this.options.uc&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class cO{constructor(e){this.key=e}}class lO{constructor(e){this.key=e}}class dO{constructor(e,n){this.query=e,this.dc=n,this._c=null,this.current=!1,this.wc=pe(),this.mutatedKeys=pe(),this.mc=L1(e),this.gc=new Aa(this.mc)}get yc(){return this.dc}Ic(e,n){const r=n?n.Ec:new oO,i=n?n.gc:this.gc;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=Zh(this.query)&&i.size===this.query.limit?i.last():null,c=ef(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=fE(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.Tc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.mc(f,u)>0||c&&this.mc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),Zh(this.query)||ef(this.query))for(;o.size>this.query.limit;){const l=Zh(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{gc:o,Ec:r,ks:a,mutatedKeys:s}}Tc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const s=e.Ec.Yo();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return N()}};return f(d)-f(h)}(c.type,l.type)||this.mc(c.doc,l.doc)),this.Ac(r);const o=n?this.Rc():[],a=0===this.wc.size&&this.current?1:0,u=a!==this._c;return this._c=a,0!==s.length||u?{snapshot:new xa(this.query,e.gc,i,s,e.mutatedKeys,0===a,u,!1),Pc:o}:{Pc:o}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new oO,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(n=>this.dc=this.dc.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.dc=this.dc.delete(n)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=pe(),this.gc.forEach(r=>{this.bc(r.key)&&(this.wc=this.wc.add(r.key))});const n=[];return e.forEach(r=>{this.wc.has(r)||n.push(new lO(r))}),this.wc.forEach(r=>{e.has(r)||n.push(new cO(r))}),n}vc(e){this.dc=e.Ks,this.wc=pe();const n=this.Ic(e.documents);return this.applyChanges(n,!0)}Vc(){return xa.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class QY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YY{constructor(e){this.key=e,this.Sc=!1}}class JY{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new Ia(a=>F1(a),Cc),this.Nc=new Map,this.xc=new Set,this.kc=new Be(k.comparator),this.Oc=new Map,this.Mc=new HE,this.$c={},this.Fc=new Map,this.Bc=ks.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function XY(t,e){return wT.apply(this,arguments)}function wT(){return wT=m(function*(t,e){const n=HT(t);let r,i;const s=n.Cc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Vc();else{const o=yield Ea(n.localStore,$n(e));n.isPrimaryClient&&wf(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield IT(n,e,r,"current"===a)}return i}),wT.apply(this,arguments)}function IT(t,e,n,r){return ET.apply(this,arguments)}function ET(){return ET=m(function*(t,e,n,r){t.Uc=(l,d,h)=>{return(f=m(function*(p,g,y,I){let _=g.view.Ic(y);_.ks&&(_=yield mf(p.localStore,g.query,!1).then(({documents:z})=>g.view.Ic(z,_)));const C=I&&I.targetChanges.get(g.targetId),P=g.view.applyChanges(_,p.isPrimaryClient,C);return RT(p,g.targetId,P.Pc),P.snapshot}),function(p,g,y,I){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield mf(t.localStore,e,!0),s=new dO(e,i.Ks),o=s.Ic(i.documents),a=Mc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);RT(t,n,u.Pc);const c=new QY(e,n,s);return t.Cc.set(e,c),t.Nc.has(n)?t.Nc.get(n).push(e):t.Nc.set(n,[e]),u.snapshot}),ET.apply(this,arguments)}function ZY(t,e){return TT.apply(this,arguments)}function TT(){return TT=m(function*(t,e){const n=S(t),r=n.Cc.get(e),i=n.Nc.get(r.targetId);if(i.length>1)return n.Nc.set(r.targetId,i.filter(s=>!Cc(s,e))),void n.Cc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ta(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Hc(n.remoteStore,r.targetId),ka(n,r.targetId)}).catch(Ms))):(ka(n,r.targetId),yield Ta(n.localStore,r.targetId,!0))}),TT.apply(this,arguments)}function hO(t,e){return bT.apply(this,arguments)}function bT(){return bT=m(function*(t,e){const n=S(t);try{const r=yield dY(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Oc.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Sc=!0:i.modifiedDocuments.size>0?j(o.Sc):i.removedDocuments.size>0&&(j(o.Sc),o.Sc=!1))}),yield si(n,r,e)}catch(r){yield Ms(r)}}),bT.apply(this,arguments)}function fO(t,e,n){const r=S(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Cc.forEach((s,o)=>{const a=o.view.tc(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=S(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.tc(o)&&(u=!0)}),u&&_T(a)}(r.eventManager,e),i.length&&r.Dc.To(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function tJ(t,e,n){return CT.apply(this,arguments)}function CT(){return CT=m(function*(t,e,n){const r=S(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Oc.get(e),s=i&&i.key;if(s){let o=new Be(k.comparator);o=o.insert(s,Me.newNoDocument(s,V.min()));const a=pe().add(s),u=new kc(V.min(),new Map,new Ae(ne),o,a);yield hO(r,u),r.kc=r.kc.remove(s),r.Oc.delete(e),NT(r)}else yield Ta(r.localStore,e,!1).then(()=>ka(r,e,n)).catch(Ms)}),CT.apply(this,arguments)}function ka(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Nc.get(e))t.Cc.delete(r),n&&t.Dc.qc(r,n);t.Nc.delete(e),t.isPrimaryClient&&t.Mc.si(e).forEach(r=>{t.Mc.containsKey(r)||pO(t,r)})}function pO(t,e){t.xc.delete(e.path.canonicalString());const n=t.kc.get(e);null!==n&&(Hc(t.remoteStore,n),t.kc=t.kc.remove(e),t.Oc.delete(n),NT(t))}function RT(t,e,n){for(const r of n)r instanceof cO?(t.Mc.addReference(r.key,e),sJ(t,r)):r instanceof lO?(D("SyncEngine","Document no longer in limbo: "+r.key),t.Mc.removeReference(r.key,e),t.Mc.containsKey(r.key)||pO(t,r.key)):N()}function sJ(t,e){const n=e.key,r=n.path.canonicalString();t.kc.get(n)||t.xc.has(r)||(D("SyncEngine","New document in limbo: "+n),t.xc.add(r),NT(t))}function NT(t){for(;t.xc.size>0&&t.kc.size<t.maxConcurrentLimboResolutions;){const e=t.xc.values().next().value;t.xc.delete(e);const n=new k(de.fromString(e)),r=t.Bc.next();t.Oc.set(r,new YY(n)),t.kc=t.kc.insert(n,r),wf(t.remoteStore,new ki($n(ca(n.path)),r,2,Cn.A))}}function si(t,e,n){return PT.apply(this,arguments)}function PT(){return PT=m(function*(t,e,n){const r=S(t),i=[],s=[],o=[];var a;r.Cc.isEmpty()||(r.Cc.forEach((a,u)=>{o.push(r.Uc(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=LE.Ss(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Dc.To(i),yield(a=m(function*(u,c){const l=S(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.vs,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Vs,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Cs(d))throw d;D("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ms.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ms=l.Ms.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),PT.apply(this,arguments)}function oJ(t,e){return OT.apply(this,arguments)}function OT(){return OT=m(function*(t,e){const n=S(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=yield GP(n.localStore,e);n.currentUser=e,(i=n).Fc.forEach(o=>{o.forEach(a=>{a.reject(new T(v.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Fc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield si(n,r.qs)}var i}),OT.apply(this,arguments)}function aJ(t,e){const n=S(t),r=n.Oc.get(e);if(r&&r.Sc)return pe().add(r.key);{let i=pe();const s=n.Nc.get(e);if(!s)return i;for(const o of s){const a=n.Cc.get(o);i=i.unionWith(a.view.yc)}return i}}function HT(t){const e=S(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tJ.bind(null,e),e.Dc.To=qY.bind(null,e.eventManager),e.Dc.qc=zY.bind(null,e.eventManager),e}class mJ{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.O=Bc(e.databaseInfo.databaseId),n.sharedClientState=n.Gc(e),n.persistence=n.jc(e),yield n.persistence.start(),n.gcScheduler=n.Qc(e),n.localStore=n.Wc(e)})()}Qc(e){return null}Wc(e){return function HP(t,e,n,r){return new cY(t,e,n,r)}(this.persistence,new $P,e.initialUser,this.O)}jc(e){return new EY(GE.bi,this.O)}Gc(e){return new JP}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qT{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>fO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=oJ.bind(null,r.syncEngine),yield function dT(t,e){return hT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new GY}createDatastore(e){const n=Bc(e.databaseInfo.databaseId),r=new SY(e.databaseInfo);return new MY(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>fO(this.syncEngine,a,0),o=XP.Vt()?new XP:new DY,new NY(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new JY(r,i,s,o,a,u);return c&&(l.Lc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=S(n);D("RemoteStore","RemoteStore shutting down."),r.Ko.add(5),yield Da(r),r.jo.shutdown(),r.Qo.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Ef{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class EJ{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=At.UNAUTHENTICATED,this.clientId=class w1{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Q9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){D("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(D("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Sa(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function _O(t,e){return zT.apply(this,arguments)}function zT(){return zT=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield GP(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),zT.apply(this,arguments)}function vO(t,e){return WT.apply(this,arguments)}function WT(){return WT=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield KT(t);D("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>sO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>sO(e.remoteStore,s)),t.onlineComponents=e}),WT.apply(this,arguments)}function KT(t){return QT.apply(this,arguments)}function QT(){return QT=m(function*(t){return t.offlineComponents||(D("FirestoreClient","Using default OfflineComponentProvider"),yield _O(t,new mJ)),t.offlineComponents}),QT.apply(this,arguments)}function Tf(t){return YT.apply(this,arguments)}function YT(){return YT=m(function*(t){return t.onlineComponents||(D("FirestoreClient","Using default OnlineComponentProvider"),yield vO(t,new qT)),t.onlineComponents}),YT.apply(this,arguments)}function ZT(){return ZT=m(function*(t){const e=yield Tf(t),n=e.eventManager;return n.onListen=XY.bind(null,e.syncEngine),n.onUnlisten=ZY.bind(null,e.syncEngine),n}),ZT.apply(this,arguments)}function TO(t,e,n={}){const r=new ft;return t.asyncQueue.enqueueAndForget(m(function*(){return function(i,s,o,a,u){const c=new Ef({next:d=>{s.enqueueAndForget(()=>function mT(t,e){return yT.apply(this,arguments)}(i,l)),d.fromCache&&"server"===a.source?u.reject(new T(v.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new vT(o,c,{includeMetadataChanges:!0,uc:!0});return function pT(t,e){return gT.apply(this,arguments)}(i,l)}(yield function Ma(t){return ZT.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}const DO=new Map;function CO(t){if(k.isDocumentKey(t))throw new T(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function Df(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":N()}(t);throw new T(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class AO{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new T(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function MJ(t,e,n,r){if(!0===e&&!0===r)throw new T(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gc{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AO({}),this._settingsFrozen=!1,e instanceof ia?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new T(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ia(i.options.projectId)}(e))}get app(){if(!this._app)throw new T(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AO(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new H9;switch(n.type){case"gapi":const r=n.client;return j(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new W9(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new T(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=DO.get(e);n&&(D("ComponentProvider","Removing Datastore"),DO.delete(e),n.terminate())}(this),Promise.resolve()}}class $e{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $e(this.firestore,e,this._key)}}class $t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $t(this.firestore,e,this._query)}}class Ar extends $t{constructor(e,n,r){super(e,n,ca(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $e(this.firestore,null,new k(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function RJ(t,e,...n){if(t=es(t),function eD(t,e,n){if(!n)throw new T(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof Gc){const r=de.fromString(e,...n);return CO(r),new Ar(t,null,r)}{if(!(t instanceof $e||t instanceof Ar))throw new T(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return CO(r),new Ar(t.firestore,null,r)}}class OJ{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new QE(this,"async_queue_retry"),this.yu=()=>{const n=vf();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ro.Yr()};const e=vf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const n=vf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const n=new ft;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return m(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(n){if(!Cs(n))throw n;D("AsyncQueue","Operation failed with retryable error: "+n)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const n=this.hu.then(()=>(this.wu=!0,e().catch(r=>{throw this._u=r,this.wu=!1,Ye("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.wu=!1,r))));return this.hu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.gu.indexOf(e)>-1&&(n=0);const i=fT.createAndSchedule(this,e,n,r,s=>this.Tu(s));return this.du.push(i),i}pu(){this._u&&N()}verifyOperationInProgress(){}Au(){var e=this;return m(function*(){let n;do{n=e.hu,yield n}while(n!==e.hu)})()}Ru(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class xe extends Gc{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new OJ,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||xO(this),this._firestoreClient.terminate()}}function LJ(t=Nk()){return $d(t,"firestore").getImmediate()}function xO(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new X9(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new EJ(t._authCredentials,t._appCheckCredentials,t._queue,r)}class Ra{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rs(st.fromBase64String(e))}catch(n){throw new T(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rs(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}const GJ=new RegExp("[~\\*/\\[\\]]");function Sf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(v.INVALID_ARGUMENT,a+t+u)}class aD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Af("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class qJ extends aD{data(){return super.data()}}function Af(t,e){return"string"==typeof e?function Cf(t,e,n){if(e.search(GJ)>=0)throw Sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ra(...e.split("."))._internalPath}catch(r){throw Sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof Ra?e._internalPath:e._delegate._internalPath}class Ps{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pa extends aD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Af("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class xf extends Pa{data(e={}){return super.data(e)}}class Oa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ps(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xf(this._firestore,this._userDataWriter,r.key,r,new Ps(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new xf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ps(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new xf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ps(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:zJ(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return N()}}class Os extends class QJ{convertValue(e,n="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw N()}}convertObject(e,n){const r={};return _s(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new nD(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=D1(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wc(e));default:return null}}convertTimestamp(e){const n=Ai(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=de.fromString(e);j(mP(r));const i=new ia(r.get(1),r.get(3)),s=new k(r.popFirst(5));return i.isEqual(n)||Ye(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $e(this.firestore,null,n)}}!function(t,e=!0){ta="9.6.7",un(new Xt("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new xe(i,new q9(n.getProvider("auth-internal")),new K9(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),je(y1,"3.4.5",t),je(y1,"3.4.5","esm2017")}();class Mf{constructor(e){return e}}const JO="firestore",lD=new ee("angularfire2.firestore-instances");function tX(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Mf(r)}}const nX={provide:class ZJ{constructor(){return Y_(JO)}},deps:[[new qe,lD]]},rX={provide:Mf,useFactory:function eX(t,e){const n=function Q_(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(JO,t,e);return n&&new Mf(n)},deps:[[new qe,lD],Wo]};let iX=(()=>{class t{constructor(){je("angularfire",B_.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Lr({type:t}),t.\u0275inj=dr({providers:[rX,nX]}),t})();function sX(t,...e){return{ngModule:iX,providers:[{provide:lD,useFactory:tX(t),multi:!0,deps:[Oe,Et,MM,RM,[new qe,RR],[new qe,tN],...e]}]}}const oX=J_(RJ,!0),aX=J_(LJ,!0),XO_firebaseConfig={apiKey:"AIzaSyC7m2XOQQ7r1vFrgAfq7tLHq8ZBANs8ER0",authDomain:"elden-ring-gear-project.firebaseapp.com",databaseURL:"https://elden-ring-gear-project-default-rtdb.europe-west1.firebasedatabase.app",projectId:"elden-ring-gear-project",storageBucket:"elden-ring-gear-project.appspot.com",messagingSenderId:"121972688077",appId:"1:121972688077:web:3aae19a1003945abb01584",measurementId:"G-JS611PDDYM"};function Y(...t){return It(t,qa(t))}class cr extends Mr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:uX}=Array,{getPrototypeOf:cX,prototype:lX,keys:dX}=Object;const{isArray:pX}=Array;function _X(...t){const e=qa(t),n=function CL(t){return me(Xf(t))?t.pop():void 0}(t),{args:r,keys:i}=function hX(t){if(1===t.length){const e=t[0];if(uX(e))return{args:e,keys:null};if(function fX(t){return t&&"object"==typeof t&&cX(t)===lX}(e)){const n=dX(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return It([],e);const s=new be(function vX(t,e,n=Bi){return r=>{ZO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)ZO(e,()=>{const c=It(t[u],e);let l=!1;c.subscribe(wt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function yX(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):Bi));return n?s.pipe(function mX(t){return Ee(e=>function gX(t,e){return pX(e)?t(...e):t(e)}(t,e))}(n)):s}function ZO(t,e,n){t?Nr(n,t,e):e()}const Rf=$s(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function dD(...t){return function wX(){return Ga(1)}()(It(t,qa(t)))}function eF(t){return new be(e=>{Rr(t()).subscribe(e)})}function tF(){return vt((t,e)=>{let n=null;t._refCount++;const r=wt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class IX extends be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,HD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new He;const n=this.getSubject();e.add(this.source.subscribe(wt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=He.EMPTY)}return e}refCount(){return tF()(this)}}function Fs(t,e){return vt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(wt(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;Rr(t(u,l)).subscribe(i=wt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function TX(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(wt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function nF(t,e){return vt(TX(t,e,arguments.length>=2,!0))}function Fa(t,e){return vt((n,r)=>{let i=0;n.subscribe(wt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Fi(t){return vt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(wt(n,void 0,void 0,o=>{s=Rr(t(o,Fi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Wc(t,e){return me(e)?ut(t,e,1):ut(t,1)}function hD(t){return t<=0?()=>Pr:vt((e,n)=>{let r=[];e.subscribe(wt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function rF(t=DX){return vt((e,n)=>{let r=!1;e.subscribe(wt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function DX(){return new Rf}function iF(t){return vt((e,n)=>{let r=!1;e.subscribe(wt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function La(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Fa((i,s)=>t(i,s,r)):Bi,fl(1),n?iF(e):rF(()=>new Rf))}class oi{constructor(e,n){this.id=e,this.url=n}}class fD extends oi{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Kc extends oi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sF extends oi{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class SX extends oi{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class AX extends oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xX extends oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kX extends oi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class MX extends oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RX extends oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oF{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aF{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class NX{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PX{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OX{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FX{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uF{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Z="primary";class LX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ua(t){return new LX(t)}const cF="ngNavigationCancelingError";function pD(t){const e=Error("NavigationCancelingError: "+t);return e[cF]=!0,e}function VX(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function xr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!lF(t[i],e[i]))return!1;return!0}function lF(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function dF(t){return Array.prototype.concat.apply([],t)}function hF(t){return t.length>0?t[t.length-1]:null}function Nt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function kr(t){return fS(t)?t:sd(t)?It(Promise.resolve(t)):Y(t)}const $X={exact:function gF(t,e,n){if(!Us(t.segments,e.segments)||!Nf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!gF(t.children[r],e.children[r],n))return!1;return!0},subset:mF},fF={exact:function HX(t,e){return xr(t,e)},subset:function GX(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>lF(t[n],e[n]))},ignored:()=>!0};function pF(t,e,n){return $X[n.paths](t.root,e.root,n.matrixParams)&&fF[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function mF(t,e,n){return yF(t,e,e.segments,n)}function yF(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Us(i,n)||e.hasChildren()||!Nf(i,n,r))}if(t.segments.length===n.length){if(!Us(t.segments,n)||!Nf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!mF(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Us(t.segments,i)&&Nf(t.segments,i,r)&&t.children[Z])&&yF(t.children[Z],e,s,r)}}function Nf(t,e,n){return e.every((r,i)=>fF[n](t[i].parameters,r.parameters))}class Ls{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ua(this.queryParams)),this._queryParamMap}toString(){return WX.serialize(this)}}class re{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Nt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pf(this)}}class Qc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ua(this.parameters)),this._parameterMap}toString(){return EF(this)}}function Us(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class _F{}class vF{parse(e){const n=new nZ(e);return new Ls(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Yc(e.root,!0)}`,r=function YX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Of(n)}=${Of(i)}`).join("&"):`${Of(n)}=${Of(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function KX(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const WX=new vF;function Pf(t){return t.segments.map(e=>EF(e)).join("/")}function Yc(t,e){if(!t.hasChildren())return Pf(t);if(e){const n=t.children[Z]?Yc(t.children[Z],!1):"",r=[];return Nt(t.children,(i,s)=>{s!==Z&&r.push(`${s}:${Yc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function zX(t,e){let n=[];return Nt(t.children,(r,i)=>{i===Z&&(n=n.concat(e(r,i)))}),Nt(t.children,(r,i)=>{i!==Z&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===Z?[Yc(t.children[Z],!1)]:[`${i}:${Yc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Z]?`${Pf(t)}/${n[0]}`:`${Pf(t)}/(${n.join("//")})`}}function wF(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Of(t){return wF(t).replace(/%3B/gi,";")}function gD(t){return wF(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ff(t){return decodeURIComponent(t)}function IF(t){return Ff(t.replace(/\+/g,"%20"))}function EF(t){return`${gD(t.path)}${function QX(t){return Object.keys(t).map(e=>`;${gD(e)}=${gD(t[e])}`).join("")}(t.parameters)}`}const JX=/^[^\/()?;=#]+/;function Lf(t){const e=t.match(JX);return e?e[0]:""}const XX=/^[^=?&#]+/,eZ=/^[^&#]+/;class nZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new re(e,n)),r}parseSegment(){const e=Lf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Qc(Ff(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Lf(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Lf(this.remaining);i&&(r=i,this.capture(r))}e[Ff(n)]=Ff(r)}parseQueryParam(e){const n=function ZX(t){const e=t.match(XX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function tZ(t){const e=t.match(eZ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=IF(n),s=IF(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Lf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Z);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Z]:new re([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class TF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=mD(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=mD(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=yD(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yD(e,this._root).map(n=>n.value)}}function mD(t,e){if(t===e.value)return e;for(const n of e.children){const r=mD(t,n);if(r)return r}return null}function yD(t,e){if(t===e.value)return[e];for(const n of e.children){const r=yD(t,n);if(r.length)return r.unshift(e),r}return[]}class ai{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Va(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class DF extends TF{constructor(e,n){super(e),this.snapshot=n,_D(this,e)}toString(){return this.snapshot.toString()}}function bF(t,e){const n=function rZ(t,e){const o=new Uf([],{},{},"",{},Z,e,null,t.root,-1,{});return new SF("",new ai(o,[]))}(t,e),r=new cr([new Qc("",{})]),i=new cr({}),s=new cr({}),o=new cr({}),a=new cr(""),u=new ja(r,i,o,a,s,Z,e,n.root);return u.snapshot=n.root,new DF(new ai(u,[]),n)}class ja{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ee(e=>Ua(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ee(e=>Ua(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CF(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function iZ(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Uf{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ua(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ua(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SF extends TF{constructor(e,n){super(n),this.url=e,_D(this,n)}toString(){return AF(this._root)}}function _D(t,e){e.value._routerState=t,e.children.forEach(n=>_D(t,n))}function AF(t){const e=t.children.length>0?` { ${t.children.map(AF).join(", ")} } `:"";return`${t.value}${e}`}function vD(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),xr(e.params,n.params)||t.params.next(n.params),function jX(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),xr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function wD(t,e){const n=xr(t.params,e.params)&&function qX(t,e){return Us(t,e)&&t.every((n,r)=>xr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||wD(t.parent,e.parent))}function Jc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function oZ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Jc(t,r,i);return Jc(t,r)})}(t,e,n);return new ai(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Jc(t,a)),o}}const r=function aZ(t){return new ja(new cr(t.url),new cr(t.params),new cr(t.queryParams),new cr(t.fragment),new cr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Jc(t,s));return new ai(r,i)}}function Vf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Xc(t){return"object"==typeof t&&null!=t&&t.outlets}function ID(t,e,n,r,i){let s={};return r&&Nt(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new Ls(n.root===t?e:xF(n.root,t,e),s,i)}function xF(t,e,n){const r={};return Nt(t.children,(i,s)=>{r[s]=i===e?n:xF(i,e,n)}),new re(t.segments,r)}class kF{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Vf(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Xc);if(i&&i!==hF(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ED{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function MF(t,e,n){if(t||(t=new re([],{})),0===t.segments.length&&t.hasChildren())return jf(t,e,n);const r=function fZ(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Xc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!NF(u,c,o))return s;r+=2}else{if(!NF(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new re(t.segments.slice(0,r.pathIndex),{});return s.children[Z]=new re(t.segments.slice(r.pathIndex),t.children),jf(s,0,i)}return r.match&&0===i.length?new re(t.segments,{}):r.match&&!t.hasChildren()?TD(t,e,n):r.match?jf(t,0,i):TD(t,e,n)}function jf(t,e,n){if(0===n.length)return new re(t.segments,{});{const r=function hZ(t){return Xc(t[0])?t[0].outlets:{[Z]:t}}(n),i={};return Nt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=MF(t.children[o],e,s))}),Nt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new re(t.segments,i)}}function TD(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Xc(s)){const u=pZ(s.outlets);return new re(r,u)}if(0===i&&Vf(n[0])){r.push(new Qc(t.segments[e].path,RF(n[0]))),i++;continue}const o=Xc(s)?s.outlets[Z]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Vf(a)?(r.push(new Qc(o,RF(a))),i+=2):(r.push(new Qc(o,{})),i++)}return new re(r,{})}function pZ(t){const e={};return Nt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=TD(new re([],{}),0,n))}),e}function RF(t){const e={};return Nt(t,(n,r)=>e[r]=`${n}`),e}function NF(t,e,n){return t==n.path&&xr(e,n.parameters)}class mZ{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),vD(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Va(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Nt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Va(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Va(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Va(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new FX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new PX(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(vD(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),vD(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function yZ(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class DD{constructor(e,n){this.routes=e,this.module=n}}function Li(t){return"function"==typeof t}function Vs(t){return t instanceof Ls}const Zc=Symbol("INITIAL_VALUE");function el(){return Fs(t=>_X(t.map(e=>e.pipe(fl(1),function EX(...t){const e=qa(t);return vt((n,r)=>{(e?dD(t,n,e):dD(t,n)).subscribe(r)})}(Zc)))).pipe(nF((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Zc?i:(s===Zc&&(r=!0),r||!1!==s&&o!==n.length-1&&!Vs(s)?i:s),e)},Zc),Fa(e=>e!==Zc),Ee(e=>Vs(e)?e:!0===e),fl(1)))}class TZ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new tl,this.attachRef=null}}class tl{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new TZ,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let bD=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Yt,this.deactivateEvents=new Yt,this.attachEvents=new Yt,this.detachEvents=new Yt,this.name=s||Z,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new DZ(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(O(tl),O(nr),O(Po),function nu(t){return function HU(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(Nb(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Ze(),t)}("name"),O(xm))},t.\u0275dir=Pt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class DZ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ja?this.route:e===tl?this.childContexts:this.parent.get(e,n)}}let PF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wa({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&id(0,"router-outlet")},directives:[bD],encapsulation:2}),t})();function OF(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];bZ(r,CZ(e,r))}}function bZ(t,e){t.children&&OF(t.children,e)}function CZ(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function CD(t){const e=t.children&&t.children.map(CD),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=PF),n}function zn(t){return t.outlet||Z}function FF(t,e){const n=t.filter(r=>zn(r)===e);return n.push(...t.filter(r=>zn(r)!==e)),n}const LF={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Bf(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},LF):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||VX)(n,t,e);if(!s)return Object.assign({},LF);const o={};Nt(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function $f(t,e,n,r,i="corrected"){if(n.length>0&&function xZ(t,e,n){return n.some(r=>Hf(t,e,r)&&zn(r)!==Z)}(t,n,r)){const o=new re(e,function AZ(t,e,n,r){const i={};i[Z]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&zn(s)!==Z){const o=new re([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[zn(s)]=o}return i}(t,e,r,new re(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function kZ(t,e,n){return n.some(r=>Hf(t,e,r))}(t,n,r)){const o=new re(t.segments,function SZ(t,e,n,r,i,s){const o={};for(const a of r)if(Hf(t,n,a)&&!i[zn(a)]){const u=new re([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[zn(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new re(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Hf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function UF(t,e,n,r){return!!(zn(t)===r||r!==Z&&Hf(e,n,t))&&("**"===t.path||Bf(e,t,n).matched)}function VF(t,e,n){return 0===e.length&&!t.children[n]}class nl{constructor(e){this.segmentGroup=e||null}}class jF{constructor(e){this.urlTree=e}}function Gf(t){return new be(e=>e.error(new nl(t)))}function BF(t){return new be(e=>e.error(new jF(t)))}function MZ(t){return new be(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class PZ{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get($r)}apply(){const e=$f(this.urlTree.root,[],[],this.config).segmentGroup,n=new re(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Z).pipe(Ee(s=>this.createUrlTree(SD(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fi(s=>{if(s instanceof jF)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof nl?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Z).pipe(Ee(i=>this.createUrlTree(SD(i),e.queryParams,e.fragment))).pipe(Fi(i=>{throw i instanceof nl?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new re([],{[Z]:e}):e;return new Ls(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(Ee(s=>new re([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return It(i).pipe(Wc(s=>{const o=r.children[s],a=FF(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(Ee(u=>({segment:u,outlet:s})))}),nF((s,o)=>(s[o.outlet]=o.segment,s),{}),function bX(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Fa((i,s)=>t(i,s,r)):Bi,hD(1),n?iF(e):rF(()=>new Rf))}())}expandSegment(e,n,r,i,s,o){return It(r).pipe(Wc(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Fi(c=>{if(c instanceof nl)return Y(null);throw c}))),La(a=>!!a),Fi((a,u)=>{if(a instanceof Rf||"EmptyError"===a.name){if(VF(n,i,s))return Y(new re([],{}));throw new nl(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return UF(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Gf(n):Gf(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?BF(s):this.lineralizeSegments(r,s).pipe(ut(o=>{const a=new re(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:c,positionalParamSegments:l}=Bf(n,i,s);if(!a)return Gf(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?BF(d):this.lineralizeSegments(i,d).pipe(ut(h=>this.expandSegment(e,n,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Y(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Ee(h=>(r._loadedConfig=h,new re(i,{})))):Y(new re(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=Bf(n,r,i);if(!o)return Gf(n);const c=i.slice(u);return this.getChildConfig(e,r,i).pipe(ut(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:g}=$f(n,a,c,f),y=new re(p.segments,p.children);if(0===g.length&&y.hasChildren())return this.expandChildren(h,f,y).pipe(Ee(P=>new re(a,P)));if(0===f.length&&0===g.length)return Y(new re(a,{}));const I=zn(r)===s;return this.expandSegment(h,y,f,g,I?Z:s,!0).pipe(Ee(C=>new re(a.concat(C.segments),C.children)))}))}getChildConfig(e,n,r){return n.children?Y(new DD(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?Y(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(ut(i=>i?this.configLoader.load(e.injector,n).pipe(Ee(s=>(n._loadedConfig=s,s))):function RZ(t){return new be(e=>e.error(pD(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(n))):Y(new DD([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;if(!i||0===i.length)return Y(!0);const s=i.map(o=>{const a=e.get(o);let u;if(function vZ(t){return t&&Li(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!Li(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return kr(u)});return Y(s).pipe(el(),ln(o=>{if(!Vs(o))return;const a=pD(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Ee(o=>!0===o))}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[Z])return MZ(e.redirectTo);i=i.children[Z]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Ls(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Nt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Nt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new re(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function SD(t){const e={};for(const r of Object.keys(t.children)){const s=SD(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function OZ(t){if(1===t.numberOfChildren&&t.children[Z]){const e=t.children[Z];return new re(t.segments.concat(e.segments),e.children)}return t}(new re(t.segments,e))}class $F{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qf{constructor(e,n){this.component=e,this.route=n}}function LZ(t,e,n){const r=t._root;return rl(r,e?e._root:null,n,[r.value])}function zf(t,e,n){const r=function VZ(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function rl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Va(e);return t.children.forEach(o=>{(function jZ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function BZ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Us(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Us(t.url,e.url)||!xr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wD(t,e)||!xr(t.queryParams,e.queryParams);default:return!wD(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new $F(r)):(s.data=o.data,s._resolvedData=o._resolvedData),rl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qf(a.outlet.component,o))}else o&&il(e,a,i),i.canActivateChecks.push(new $F(r)),rl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Nt(s,(o,a)=>il(o,n.getContext(a),i)),i}function il(t,e,n){const r=Va(t),i=t.value;Nt(r,(s,o)=>{il(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new qf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class YZ{}function HF(t){return new be(e=>e.error(t))}class XZ{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=$f(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,Z);if(null===n)return null;const r=new Uf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Z,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ai(r,n),s=new SF(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=CF(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=FF(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=GF(r);return function ZZ(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return VF(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!UF(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?hF(r).parameters:{};s=new Uf(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,WF(e),zn(e),e.component,e,qF(n),zF(n)+r.length,KF(e))}else{const f=Bf(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new Uf(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,WF(e),zn(e),e.component,e,qF(n),zF(n)+o.length,KF(e))}const u=function eee(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=$f(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new ai(s,f)]}if(0===u.length&&0===l.length)return[new ai(s,[])];const d=zn(e)===i,h=this.processSegment(u,c,l,d?Z:i);return null===h?null:[new ai(s,h)]}}function tee(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function GF(t){const e=[],n=new Set;for(const r of t){if(!tee(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=GF(r.children);e.push(new ai(r.value,i))}return e.filter(r=>!n.has(r))}function qF(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function zF(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function WF(t){return t.data||{}}function KF(t){return t.resolve||{}}function QF(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function AD(t){return Fs(e=>{const n=t(e);return n?It(n).pipe(Ee(()=>e)):Y(e)})}class cee extends class uee{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const xD=new ee("ROUTES");class YF{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(Ee(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new DD(dF(o.injector.get(xD,void 0,q.Self|q.Optional)).map(CD),o)}),Fi(s=>{throw n._loader$=void 0,s}));return n._loader$=new IX(i,()=>new Mr).pipe(tF()),n._loader$}loadModuleFactory(e){return kr(e()).pipe(ut(n=>n instanceof BA?Y(n):It(this.compiler.compileModuleAsync(n))))}}class dee{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function hee(t){throw t}function fee(t,e,n){return e.parse("/")}function JF(t,e){return Y(null)}const pee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kn=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Mr,this.errorHandler=hee,this.malformedUriErrorHandler=fee,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:JF,afterPreactivation:JF},this.urlHandlingStrategy=new dee,this.routeReuseStrategy=new cee,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get($r),this.console=o.get(Ex);const d=o.get(Oe);this.isNgZoneEnabled=d instanceof Oe&&Oe.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function BX(){return new Ls(new re([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new YF(o,a,h=>this.triggerEvent(new oF(h)),h=>this.triggerEvent(new aF(h))),this.routerState=bF(this.currentUrlTree,this.rootComponentType),this.transitions=new cr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Fa(i=>0!==i.id),Ee(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Fs(i=>{let s=!1,o=!1;return Y(i).pipe(ln(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Fs(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Wf(a.source)&&(this.browserUrlTree=a.extractedUrl),Y(a).pipe(Fs(d=>{const h=this.transitions.getValue();return r.next(new fD(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Pr:Promise.resolve(d)}),function FZ(t,e,n,r){return Fs(i=>function NZ(t,e,n,r,i){return new PZ(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(Ee(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ln(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function nee(t,e,n,r,i){return ut(s=>function JZ(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new XZ(t,e,n,r,i,s).recognize();return null===o?HF(new YZ):Y(o)}catch(o){return HF(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Ee(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),ln(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new AX(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:y}=a,I=new fD(h,this.serializeUrl(f),p,g);r.next(I);const _=bF(f,this.rootComponentType).snapshot;return Y(Object.assign(Object.assign({},a),{targetSnapshot:_,urlAfterRedirects:f,extras:Object.assign(Object.assign({},y),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Pr}),AD(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),ln(a=>{const u=new xX(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Ee(a=>Object.assign(Object.assign({},a),{guards:LZ(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function $Z(t,e){return ut(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Y(Object.assign(Object.assign({},n),{guardsResult:!0})):function HZ(t,e,n,r){return It(t).pipe(ut(i=>function QZ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Y(s.map(a=>{const u=zf(a,e,i);let c;if(function EZ(t){return t&&Li(t.canDeactivate)}(u))c=kr(u.canDeactivate(t,e,n,r));else{if(!Li(u))throw new Error("Invalid CanDeactivate guard");c=kr(u(t,e,n,r))}return c.pipe(La())})).pipe(el()):Y(!0)}(i.component,i.route,n,e,r)),La(i=>!0!==i,!0))}(o,r,i,t).pipe(ut(a=>a&&function _Z(t){return"boolean"==typeof t}(a)?function GZ(t,e,n,r){return It(e).pipe(Wc(i=>dD(function zZ(t,e){return null!==t&&e&&e(new NX(t)),Y(!0)}(i.route.parent,r),function qZ(t,e){return null!==t&&e&&e(new OX(t)),Y(!0)}(i.route,r),function KZ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function UZ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>eF(()=>Y(o.guards.map(u=>{const c=zf(u,o.node,n);let l;if(function IZ(t){return t&&Li(t.canActivateChild)}(c))l=kr(c.canActivateChild(r,t));else{if(!Li(c))throw new Error("Invalid CanActivateChild guard");l=kr(c(r,t))}return l.pipe(La())})).pipe(el())));return Y(s).pipe(el())}(t,i.path,n),function WZ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const i=r.map(s=>eF(()=>{const o=zf(s,e,n);let a;if(function wZ(t){return t&&Li(t.canActivate)}(o))a=kr(o.canActivate(e,t));else{if(!Li(o))throw new Error("Invalid CanActivate guard");a=kr(o(e,t))}return a.pipe(La())}));return Y(i).pipe(el())}(t,i.route,n))),La(i=>!0!==i,!0))}(r,s,t,e):Y(a)),Ee(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ln(a=>{if(Vs(a.guardsResult)){const c=pD(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new kX(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Fa(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),AD(a=>{if(a.guards.canActivateChecks.length)return Y(a).pipe(ln(u=>{const c=new MX(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),Fs(u=>{let c=!1;return Y(u).pipe(function ree(t,e){return ut(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=0;return It(i).pipe(Wc(o=>function iee(t,e,n,r){return function see(t,e,n,r){const i=QF(t);if(0===i.length)return Y({});const s={};return It(i).pipe(ut(o=>function oee(t,e,n,r){const i=zf(t,e,r);return kr(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(ln(a=>{s[o]=a}))),hD(1),ut(()=>QF(s).length===i.length?Y(s):Pr))}(t._resolve,t,e,r).pipe(Ee(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),CF(t,n).resolve),null)))}(o.route,r,t,e)),ln(()=>s++),hD(1),ut(o=>s===i.length?Y(n):Pr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ln({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),ln(u=>{const c=new RX(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),AD(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Ee(a=>{const u=function sZ(t,e,n){const r=Jc(t,e._root,n?n._root:void 0);return new DF(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),ln(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>Ee(r=>(new mZ(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ln({next(){s=!0},complete(){s=!0}}),function CX(t){return vt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Fi(a=>{if(o=!0,function UX(t){return t&&t[cF]}(a)){const u=Vs(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new sF(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wf(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new SX(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Pr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){OF(n),this.config=n.map(CD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function uZ(t,e,n,r,i){if(0===n.length)return ID(e.root,e.root,e,r,i);const s=function cZ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new kF(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Nt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new kF(n,e,r)}(n);if(s.toRoot())return ID(e.root,new re([],{}),e,r,i);const o=function lZ(t,e,n){if(t.isAbsolute)return new ED(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new ED(s,s===e.root,0)}const r=Vf(t.commands[0])?0:1;return function dZ(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ED(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?jf(o.segmentGroup,o.index,s.commands):MF(o.segmentGroup,o.index,s.commands);return ID(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Vs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function mee(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},pee):!1===r?Object.assign({},gee):r,Vs(n))return pF(this.currentUrlTree,n,i);const s=this.parseUrl(n);return pF(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Kc(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u,c;if(this.disposed)return Promise.resolve(!1);const l=this.transitions.value,d=Wf(r)&&l&&!Wf(l.source),h=l.rawUrl.toString()===n.toString(),f=l.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&h&&f)return Promise.resolve(!0);let g,y,I;o?(g=o.resolve,y=o.reject,I=o.promise):I=new Promise((P,z)=>{g=P,y=z});const _=++this.navigationId;let C;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),C=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):C=0,this.setTransition({id:_,targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:g,reject:y,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(P=>Promise.reject(P))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new sF(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Hg()},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();function Wf(t){return"imperative"!==t}class XF{}class ZF{preload(e,n){return Y(null)}}let eL=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new YF(i,r,u=>n.triggerEvent(new oF(u)),u=>n.triggerEvent(new aF(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Fa(n=>n instanceof Kc),Wc(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get($r);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return It(i).pipe(Ga(),Ee(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Y(r._loadedConfig):this.loader.load(n.injector,r)).pipe(ut(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(L(kn),L(vd),L(Et),L(XF))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})(),RD=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof fD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Kc&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof uF&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new uF(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Hg()},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const js=new ee("ROUTER_CONFIGURATION"),tL=new ee("ROUTER_FORROOT_GUARD"),wee=[Fm,{provide:_F,useClass:vF},{provide:kn,useFactory:function bee(t,e,n,r,i,s,o={},a,u){const c=new kn(null,t,e,n,r,i,dF(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function Cee(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[_F,tl,Fm,Et,vd,xD,js,[class lee{},new qe],[class aee{},new qe]]},tl,{provide:ja,useFactory:function See(t){return t.routerState.root},deps:[kn]},eL,ZF,class vee{preload(e,n){return n().pipe(Fi(()=>Y(null)))}},{provide:js,useValue:{enableTracing:!1}}];function Iee(){return new Ax("Router",kn)}let nL=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[wee,rL(n),{provide:tL,useFactory:Dee,deps:[[kn,new qe,new uo]]},{provide:js,useValue:r||{}},{provide:Vo,useFactory:Tee,deps:[Zi,[new cu(Om),new qe],js]},{provide:RD,useFactory:Eee,deps:[kn,Gz,js]},{provide:XF,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:ZF},{provide:Ax,multi:!0,useFactory:Iee},[ND,{provide:_d,multi:!0,useFactory:Aee,deps:[ND]},{provide:iL,useFactory:xee,deps:[ND]},{provide:Ix,multi:!0,useExisting:iL}]]}}static forChild(n){return{ngModule:t,providers:[rL(n)]}}}return t.\u0275fac=function(n){return new(n||t)(L(tL,8),L(kn,8))},t.\u0275mod=Lr({type:t}),t.\u0275inj=dr({}),t})();function Eee(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new RD(t,e,n)}function Tee(t,e,n={}){return n.useHash?new Eq(t,e):new Kx(t,e)}function Dee(t){return"guarded"}function rL(t){return[{provide:QU,multi:!0,useValue:t},{provide:xD,multi:!0,useValue:t}]}let ND=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Mr}appInitializer(){return this.injector.get(vq,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(kn),o=this.injector.get(js);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Y(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(js),i=this.injector.get(eL),s=this.injector.get(RD),o=this.injector.get(kn),a=this.injector.get(Ou);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(L(Et))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();function Aee(t){return t.appInitializer.bind(t)}function xee(t){return t.bootstrapListener.bind(t)}const iL=new ee("Router Initializer"),Mee=[{path:"",component:(()=>{class t{constructor(n){this.firestore=n,this._items=[]}Load(){var n=this;return m(function*(){(yield function JJ(t){t=ce(t,$t);const e=ce(t.firestore,xe),n=function ot(t){return t._firestoreClient||xO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(e),r=new Os(e);return function $O(t){if(ef(t)&&0===t.explicitOrderBy.length)throw new T(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),TO(n,t._query).then(i=>new Oa(e,r,t,i))}(oX(n.firestore,"Equipment"))).forEach(i=>{console.log(i.id," => ",i.data())})})()}}return t.\u0275fac=function(n){return new(n||t)(O(Mf))},t.\u0275cmp=Wa({type:t,selectors:[["app-database-load"]],decls:2,vars:0,consts:[[3,"click"]],template:function(n,r){1&n&&(nd(0,"button",0),Eu("click",function(){return r.Load()}),BS(1,"PRESS"),rd())},styles:[""]}),t})()}];let Ree=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Lr({type:t}),t.\u0275inj=dr({imports:[[nL.forRoot(Mee)],nL]}),t})(),Nee=(()=>{class t{constructor(){this.title="elden-ring-app"}test(){console.log("AIDS")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wa({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&id(0,"router-outlet")},directives:[bD],styles:[""]}),t})(),Pee=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Lr({type:t,bootstrap:[Nee]}),t.\u0275inj=dr({providers:[],imports:[[_W,Ree,AK(()=>xK(XO_firebaseConfig)),sX(()=>aX())]]}),t})();(function KG(){Px=!1})(),mW().bootstrapModule(Pee).catch(t=>console.error(t))},940:function(al,ul){!function(Ui){"use strict";function me(R){return Array.prototype.slice.call(R)}function $s(R){return new Promise(function(J,le){R.onsuccess=function(){J(R.result)},R.onerror=function(){le(R.error)}})}function ui(R,J,le){var fe,ie=new Promise(function(Gt,ji){$s(fe=R[J].apply(R,le)).then(Gt,ji)});return ie.request=fe,ie}function Hs(R,J,le){var fe=ui(R,J,le);return fe.then(function(ie){if(ie)return new lr(ie,fe.request)})}function He(R,J,le){le.forEach(function(fe){Object.defineProperty(R.prototype,fe,{get:function(){return this[J][fe]},set:function(ie){this[J][fe]=ie}})})}function Gs(R,J,le,fe){fe.forEach(function(ie){ie in le.prototype&&(R.prototype[ie]=function(){return ui(this[J],ie,arguments)})})}function Vi(R,J,le,fe){fe.forEach(function(ie){ie in le.prototype&&(R.prototype[ie]=function(){return this[J][ie].apply(this[J],arguments)})})}function $a(R,J,le,fe){fe.forEach(function(ie){ie in le.prototype&&(R.prototype[ie]=function(){return Hs(this[J],ie,arguments)})})}function Ht(R){this._index=R}function lr(R,J){this._cursor=R,this._request=J}function gn(R){this._store=R}function ci(R){this._tx=R,this.complete=new Promise(function(J,le){R.oncomplete=function(){J()},R.onerror=function(){le(R.error)},R.onabort=function(){le(R.error)}})}function qs(R,J,le){this._db=R,this.oldVersion=J,this.transaction=new ci(le)}function zs(R){this._db=R}He(Ht,"_index",["name","keyPath","multiEntry","unique"]),Gs(Ht,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),$a(Ht,"_index",IDBIndex,["openCursor","openKeyCursor"]),He(lr,"_cursor",["direction","key","primaryKey","value"]),Gs(lr,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(R){R in IDBCursor.prototype&&(lr.prototype[R]=function(){var J=this,le=arguments;return Promise.resolve().then(function(){return J._cursor[R].apply(J._cursor,le),$s(J._request).then(function(fe){if(fe)return new lr(fe,J._request)})})})}),gn.prototype.createIndex=function(){return new Ht(this._store.createIndex.apply(this._store,arguments))},gn.prototype.index=function(){return new Ht(this._store.index.apply(this._store,arguments))},He(gn,"_store",["name","keyPath","indexNames","autoIncrement"]),Gs(gn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),$a(gn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Vi(gn,"_store",IDBObjectStore,["deleteIndex"]),ci.prototype.objectStore=function(){return new gn(this._tx.objectStore.apply(this._tx,arguments))},He(ci,"_tx",["objectStoreNames","mode"]),Vi(ci,"_tx",IDBTransaction,["abort"]),qs.prototype.createObjectStore=function(){return new gn(this._db.createObjectStore.apply(this._db,arguments))},He(qs,"_db",["name","version","objectStoreNames"]),Vi(qs,"_db",IDBDatabase,["deleteObjectStore","close"]),zs.prototype.transaction=function(){return new ci(this._db.transaction.apply(this._db,arguments))},He(zs,"_db",["name","version","objectStoreNames"]),Vi(zs,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(R){[gn,Ht].forEach(function(J){R in J.prototype&&(J.prototype[R.replace("open","iterate")]=function(){var le=me(arguments),fe=le[le.length-1],ie=this._store||this._index,Gt=ie[R].apply(ie,le.slice(0,-1));Gt.onsuccess=function(){fe(Gt.result)}})})}),[Ht,gn].forEach(function(R){R.prototype.getAll||(R.prototype.getAll=function(J,le){var fe=this,ie=[];return new Promise(function(Gt){fe.iterateCursor(J,function(ji){ji?(ie.push(ji.value),void 0===le||ie.length!=le?ji.continue():Gt(ie)):Gt(ie)})})})}),Ui.openDb=function Kf(R,J,le){var fe=ui(indexedDB,"open",[R,J]),ie=fe.request;return ie&&(ie.onupgradeneeded=function(Gt){le&&le(new qs(ie.result,Gt.oldVersion,ie.transaction))}),fe.then(function(Gt){return new zs(Gt)})},Ui.deleteDb=function Ha(R){return ui(indexedDB,"deleteDatabase",[R])},Object.defineProperty(Ui,"__esModule",{value:!0})}(ul)}},al=>{al(al.s=709)}]);